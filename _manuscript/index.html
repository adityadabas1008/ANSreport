<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Aditya Dabas (5230565)">
<meta name="author" content="Mohamad Wehbi (5235487)">
<meta name="author" content="Adrian Jauch (5178618)">

<title>Entwurf und PCB Design eines universellen Biquad Filters</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-6e5ff12f349f7d7ee99023e5a7f49be9.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<meta name="citation_title" content="Entwurf und PCB Design eines universellen Biquad Filters">
<meta name="citation_abstract" content="Lorem ipsum
">
<meta name="citation_author" content="Aditya Dabas (5230565)">
<meta name="citation_author" content="Mohamad Wehbi (5235487)">
<meta name="citation_author" content="Adrian Jauch (5178618)">
<meta name="citation_publication_date" content="2025-07-20">
<meta name="citation_cover_date" content="2025-07-20">
<meta name="citation_year" content="2025">
<meta name="citation_online_date" content="2025-07-20">
<meta name="citation_language" content="de">
<meta name="citation_reference" content="citation_title=CMOS: Circuit design, layout, and simulation;,citation_author=R. Jacob Baker;,citation_publication_date=2010-10;,citation_cover_date=2010-10;,citation_year=2010;,citation_doi=10.1002/9780470891179;,citation_isbn=9780470891179;">
<meta name="citation_reference" content="citation_title=CMOSedu;,citation_author=R. Jacob Baker;,citation_publication_date=2015;,citation_cover_date=2015;,citation_year=2015;,citation_fulltext_html_url=http://www.cmosedu.com;,citation_publisher=Website;">
<meta name="citation_reference" content="citation_title=Switch-mode power supplies: SPICE simulations and practical designs;,citation_author=Christophe P. Basso;,citation_publication_date=2008;,citation_cover_date=2008;,citation_year=2008;,citation_isbn=9780071508582;,citation_series_title=Electronic engineering;">
<meta name="citation_reference" content="citation_title=Op amps for everyone;,citation_author=Bruce Carter;,citation_publication_date=2013;,citation_cover_date=2013;,citation_year=2013;,citation_fulltext_html_url=http://www.sciencedirect.com/science/article/pii/B9780123914958000015;,citation_doi=10.1016/B978-0-12-391495-8.00001-5;,citation_isbn=978-0-12-391495-8;">
<meta name="citation_reference" content="citation_title=Open-source design of integrated circuits: Ein quelloffener 1,44-MS/s 703-μW 12-bit nichtbinärer SAR-ADC mit 448-aF kondensatoren in einem 130-nm CMOS-prozess;,citation_author=Patrick Fath;,citation_author=Manuel Moser;,citation_author=Georg Zachl;,citation_author=Harald Pretl;,citation_publication_date=2024-01;,citation_cover_date=2024-01;,citation_year=2024;,citation_issue=1;,citation_doi=10.1007/s00502-023-01195-5;,citation_issn=1613-7620;,citation_volume=141;,citation_journal_title=Elektrotechnik und Informationstechnik;,citation_publisher=Springer Science; Business Media LLC;">
<meta name="citation_reference" content="citation_title=Tiny Tapeout hit as eFabless closes;,citation_author=Nick Flaherty;,citation_publication_date=2025-03;,citation_cover_date=2025-03;,citation_year=2025;,citation_fulltext_html_url=https://www.eenewseurope.com/en/tiny-tapeout-hit-as-efabless-closes/;,citation_journal_title=eeNews EUROPE;">
<meta name="citation_reference" content="citation_title=Fundamentals of layout design for electronic circuits;,citation_author=Jens Lienig;,citation_author=Juergen Scheible;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_doi=10.1007/978-3-030-39284-0;,citation_isbn=9783030392840;">
<meta name="citation_reference" content="citation_title=Grundlagen des layoutentwurfs elektronischer schaltungen;,citation_author=Jens Lienig;,citation_author=Jürgen Scheible;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_doi=10.1007/978-3-031-15768-4;,citation_isbn=9783031157684;">
<meta name="citation_reference" content="citation_title=Op amps for everyone;,citation_author=Ron Mancini;,citation_publication_date=2002-08;,citation_cover_date=2002-08;,citation_year=2002;,citation_fulltext_html_url=https://web.mit.edu/6.101/www/reference/op_amps_everyone.pdf;,citation_technical_report_institution=Texas Instruments Incorporation;,citation_technical_report_number=SLOD006B;">
<meta name="citation_reference" content="citation_title=Leistungselektronik: Einführung in schaltungen und deren verhalten;,citation_author=Manfred Michel;,citation_publication_date=2011;,citation_cover_date=2011;,citation_year=2011;,citation_doi=10.1007/978-3-642-15984-8;,citation_isbn=978-3-642-15983-1;">
<meta name="citation_reference" content="citation_title=Analog Circuit Design;,citation_author=Harald Pretl;,citation_author=Michael Koefinger;,citation_author=Simon Dorrer;,citation_publication_date=2024-12;,citation_cover_date=2024-12;,citation_year=2024;,citation_fulltext_html_url=https://iic-jku.github.io/analog-circuit-design;,citation_doi=10.5281/zenodo.14387481;,citation_language=en-us;">
<meta name="citation_reference" content="citation_title=GitHub repository of the IIC-OSIC-TOOLS;,citation_author=Harald Pretl;,citation_author=Georg Zachl;,citation_publication_date=2025-01;,citation_cover_date=2025-01;,citation_year=2025;,citation_fulltext_html_url=https://github.com/iic-jku/IIC-OSIC-TOOLS;,citation_doi=10.5281/zenodo.14634518;,citation_publisher=Zenodo;">
<meta name="citation_reference" content="citation_title=From code to chip: Open-source automated analog layout design;,citation_author=Jakob Ratschenberger;,citation_author=Harald Pretl;,citation_publication_date=2025;,citation_cover_date=2025;,citation_year=2025;,citation_doi=10.1007/978-3-031-68562-0;,citation_isbn=9783031685620;,citation_issn=2690-0327;,citation_book_title=Synthesis Lectures on Engineering, Science, and Technology;,citation_series_title=Synthesis lectures on engineering, science, and technology;">
<meta name="citation_reference" content="citation_title=Schaltnetzteile und ihre peripherie: Dimensionierung, einsatz, EMV;,citation_author=Ulrich Schlienz;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_doi=10.1007/978-3-658-29490-8;,citation_isbn=9783658294908;">
<meta name="citation_reference" content="citation_title=Leistungselektronische schaltungen;,citation_editor=Dierk Schröder;,citation_editor=Rainer Marquardt;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_doi=10.1007/978-3-662-55325-1;">
<meta name="citation_reference" content="citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_issue=2;,citation_doi=10.1109/mssc.2024.3400568;,citation_issn=1943-0590;,citation_volume=16;,citation_journal_title=IEEE Solid-State Circuits Magazine;,citation_publisher=Institute of Electrical; Electronics Engineers (IEEE);">
<meta name="citation_reference" content="citation_title=Analog building blocks of dc-dc converters: Examining fundamental concepts;,citation_author=Bernhard Wicht;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_issue=3;,citation_doi=10.1109/mssc.2020.3002141;,citation_volume=12;,citation_journal_title=IEEE Solid-State Circuits Magazine;,citation_publisher=institution of Electrical; Electronics Engineers (IEEE);">
<meta name="citation_reference" content="citation_title=Design of power management integrated circuits;,citation_author=Bernhard Wicht;,citation_publication_date=2024-05;,citation_cover_date=2024-05;,citation_year=2024;,citation_doi=10.1002/9781119123095;,citation_isbn=9781119123095;">
<meta name="citation_reference" content="citation_title=Introduction to digital filters with audio applications;,citation_author=Julius O. Smith;,citation_publication_date=2007;,citation_cover_date=2007;,citation_year=2007;,citation_isbn=978-0-9745607-1-7;">
<meta name="citation_reference" content="citation_title=Analoge filter design;,citation_author=Mirco Meiners;,citation_publication_date=2025;,citation_cover_date=2025;,citation_year=2025;,citation_publisher=Vorlesungsskript: Lecture-20, Hochschule Bremen;">
<meta name="citation_reference" content="citation_title=Elektronische bauelemente;,citation_author=Michael Reisch;,citation_publication_date=2007-05;,citation_cover_date=2007-05;,citation_year=2007;,citation_isbn=3-540-34010-9;">
</head>

<body class="quarto-light">

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Entwurf und PCB Design eines universellen Biquad Filters</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Autor:innen</div>
          <div class="quarto-title-meta-heading">Zugehörigkeit</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Aditya Dabas (5230565) <a href="mailto:adabas@stud.hs-bremen.de" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0009-0001-5679-9910" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Hochschule Bremen - City University of Applied Sciences (HSB)
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Mohamad Wehbi (5235487) <a href="mailto:mwehbi@stud.hs-bremen.de" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Hochschule Bremen - City University of Applied Sciences (HSB)
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Adrian Jauch (5178618) <a href="mailto:ajauch@stud.hs-bremen.de" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Hochschule Bremen - City University of Applied Sciences (HSB)
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
                <div>
            <div class="quarto-title-meta-heading">Veröffentlichungsdatum</div>
            <div class="quarto-title-meta-contents">
              <p class="date">20. Juli 2025</p>
            </div>
          </div>
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      </div>
    </div>

    <div>
      <div class="abstract">
        <div class="block-title">Zusammenfassung</div>
        <p>Lorem ipsum</p>
      </div>
    </div>


    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#motivation" id="toc-motivation" class="nav-link active" data-scroll-target="#motivation"><span class="header-section-number">1</span> Motivation</a></li>
  <li><a href="#theoretischer-hintergrund" id="toc-theoretischer-hintergrund" class="nav-link" data-scroll-target="#theoretischer-hintergrund"><span class="header-section-number">2</span> Theoretischer Hintergrund</a>
  <ul class="collapse">
  <li><a href="#grundlagen-zu-analogen-filtern" id="toc-grundlagen-zu-analogen-filtern" class="nav-link" data-scroll-target="#grundlagen-zu-analogen-filtern"><span class="header-section-number">2.1</span> Grundlagen zu analogen Filtern</a>
  <ul class="collapse">
  <li><a href="#übertragungsfunktionen-und-verschiedene-filtertypen" id="toc-übertragungsfunktionen-und-verschiedene-filtertypen" class="nav-link" data-scroll-target="#übertragungsfunktionen-und-verschiedene-filtertypen">Übertragungsfunktionen und verschiedene Filtertypen</a></li>
  </ul></li>
  <li><a href="#anti-aliasing-filter" id="toc-anti-aliasing-filter" class="nav-link" data-scroll-target="#anti-aliasing-filter"><span class="header-section-number">2.2</span> Anti Aliasing Filter</a></li>
  <li><a href="#grundlagen-biquad-filter" id="toc-grundlagen-biquad-filter" class="nav-link" data-scroll-target="#grundlagen-biquad-filter"><span class="header-section-number">2.3</span> Grundlagen Biquad-Filter</a></li>
  <li><a href="#gütefaktor-q-und-einfluss" id="toc-gütefaktor-q-und-einfluss" class="nav-link" data-scroll-target="#gütefaktor-q-und-einfluss"><span class="header-section-number">2.4</span> Gütefaktor Q und Einfluss</a></li>
  </ul></li>
  <li><a href="#schaltungsentwurf-des-biquad-filters" id="toc-schaltungsentwurf-des-biquad-filters" class="nav-link" data-scroll-target="#schaltungsentwurf-des-biquad-filters"><span class="header-section-number">3</span> Schaltungsentwurf des Biquad-Filters</a>
  <ul class="collapse">
  <li><a href="#der-invertierende-verstärker" id="toc-der-invertierende-verstärker" class="nav-link" data-scroll-target="#der-invertierende-verstärker">Der invertierende Verstärker</a></li>
  <li><a href="#der-addierer" id="toc-der-addierer" class="nav-link" data-scroll-target="#der-addierer">Der Addierer</a></li>
  <li><a href="#der-invertierende-integrator" id="toc-der-invertierende-integrator" class="nav-link" data-scroll-target="#der-invertierende-integrator">Der Invertierende Integrator</a></li>
  <li><a href="#universeller-aktiver-filter-2.-ordnung-biquad" id="toc-universeller-aktiver-filter-2.-ordnung-biquad" class="nav-link" data-scroll-target="#universeller-aktiver-filter-2.-ordnung-biquad"><span class="header-section-number">3.1</span> Universeller aktiver Filter 2. Ordnung (Biquad)</a>
  <ul class="collapse">
  <li><a href="#auswahl-und-berechnung-der-bauteile" id="toc-auswahl-und-berechnung-der-bauteile" class="nav-link" data-scroll-target="#auswahl-und-berechnung-der-bauteile">Auswahl und Berechnung der Bauteile</a></li>
  </ul></li>
  <li><a href="#simulation-und-aufbau" id="toc-simulation-und-aufbau" class="nav-link" data-scroll-target="#simulation-und-aufbau"><span class="header-section-number">3.2</span> Simulation und Aufbau</a>
  <ul class="collapse">
  <li><a href="#simulation-der-schaltung-kicad" id="toc-simulation-der-schaltung-kicad" class="nav-link" data-scroll-target="#simulation-der-schaltung-kicad">Simulation der Schaltung (KiCad)</a></li>
  <li><a href="#aufbau-auf-dem-aslk-pro-board" id="toc-aufbau-auf-dem-aslk-pro-board" class="nav-link" data-scroll-target="#aufbau-auf-dem-aslk-pro-board">Aufbau auf dem ASLK PRO Board</a></li>
  </ul></li>
  <li><a href="#butterworth-3.-ordnung-entwurf-und-erweiterung" id="toc-butterworth-3.-ordnung-entwurf-und-erweiterung" class="nav-link" data-scroll-target="#butterworth-3.-ordnung-entwurf-und-erweiterung"><span class="header-section-number">3.3</span> Butterworth 3. Ordnung: Entwurf und Erweiterung</a></li>
  </ul></li>
  <li><a href="#charakterisierung" id="toc-charakterisierung" class="nav-link" data-scroll-target="#charakterisierung"><span class="header-section-number">4</span> Charakterisierung</a>
  <ul class="collapse">
  <li><a href="#steckbrett" id="toc-steckbrett" class="nav-link" data-scroll-target="#steckbrett">Steckbrett</a></li>
  <li><a href="#dämpfung" id="toc-dämpfung" class="nav-link" data-scroll-target="#dämpfung">Dämpfung</a></li>
  </ul></li>
  <li><a href="#messung-und-analyse" id="toc-messung-und-analyse" class="nav-link" data-scroll-target="#messung-und-analyse"><span class="header-section-number">5</span> Messung und Analyse</a>
  <ul class="collapse">
  <li><a href="#messungsschritte" id="toc-messungsschritte" class="nav-link" data-scroll-target="#messungsschritte">Messungsschritte</a></li>
  <li><a href="#vergleich-simulation-vs.-diskret" id="toc-vergleich-simulation-vs.-diskret" class="nav-link" data-scroll-target="#vergleich-simulation-vs.-diskret"><span class="header-section-number">5.1</span> Vergleich Simulation vs.&nbsp;Diskret</a>
  <ul class="collapse">
  <li><a href="#für-q1" id="toc-für-q1" class="nav-link" data-scroll-target="#für-q1">Für <span class="math inline">\(Q=1\)</span></a></li>
  <li><a href="#bandpass" id="toc-bandpass" class="nav-link" data-scroll-target="#bandpass">-Bandpass</a></li>
  <li><a href="#bandstop" id="toc-bandstop" class="nav-link" data-scroll-target="#bandstop">-Bandstop</a></li>
  <li><a href="#hochpass" id="toc-hochpass" class="nav-link" data-scroll-target="#hochpass">-Hochpass</a></li>
  <li><a href="#tiefpass" id="toc-tiefpass" class="nav-link" data-scroll-target="#tiefpass">-Tiefpass</a></li>
  <li><a href="#für-q10" id="toc-für-q10" class="nav-link" data-scroll-target="#für-q10">Für <span class="math inline">\(Q=10\)</span></a></li>
  <li><a href="#bandpass-1" id="toc-bandpass-1" class="nav-link" data-scroll-target="#bandpass-1">-Bandpass</a></li>
  <li><a href="#bandstop-1" id="toc-bandstop-1" class="nav-link" data-scroll-target="#bandstop-1">-Bandstop</a></li>
  <li><a href="#hochpass-1" id="toc-hochpass-1" class="nav-link" data-scroll-target="#hochpass-1">-Hochpass</a></li>
  <li><a href="#tiefpass-1" id="toc-tiefpass-1" class="nav-link" data-scroll-target="#tiefpass-1">-Tiefpass</a></li>
  </ul></li>
  <li><a href="#interpretation-der-messergebnisse" id="toc-interpretation-der-messergebnisse" class="nav-link" data-scroll-target="#interpretation-der-messergebnisse"><span class="header-section-number">5.2</span> Interpretation der Messergebnisse</a></li>
  </ul></li>
  <li><a href="#umsetzung-als-leiterplatte" id="toc-umsetzung-als-leiterplatte" class="nav-link" data-scroll-target="#umsetzung-als-leiterplatte"><span class="header-section-number">6</span> Umsetzung als Leiterplatte</a>
  <ul class="collapse">
  <li><a href="#vorgehensweise-im-layoutprozess" id="toc-vorgehensweise-im-layoutprozess" class="nav-link" data-scroll-target="#vorgehensweise-im-layoutprozess"><span class="header-section-number">6.1</span> Vorgehensweise im Layoutprozess</a>
  <ul class="collapse">
  <li><a href="#design-verbesserungen-und-begründungen" id="toc-design-verbesserungen-und-begründungen" class="nav-link" data-scroll-target="#design-verbesserungen-und-begründungen">Design-Verbesserungen und Begründungen</a></li>
  <li><a href="#zusammenfassung-und-ausblick" id="toc-zusammenfassung-und-ausblick" class="nav-link" data-scroll-target="#zusammenfassung-und-ausblick">Zusammenfassung und Ausblick</a></li>
  </ul></li>
  <li><a href="#messungen-an-der-pcb-schaltung" id="toc-messungen-an-der-pcb-schaltung" class="nav-link" data-scroll-target="#messungen-an-der-pcb-schaltung"><span class="header-section-number">6.2</span> Messungen an der PCB-Schaltung</a></li>
  <li><a href="#vergleich-diskret-vs.-pcb" id="toc-vergleich-diskret-vs.-pcb" class="nav-link" data-scroll-target="#vergleich-diskret-vs.-pcb">Vergleich: Diskret vs.&nbsp;PCB</a>
  <ul class="collapse">
  <li><a href="#für-q-1-1" id="toc-für-q-1-1" class="nav-link" data-scroll-target="#für-q-1-1">Für (Q = 1)</a></li>
  <li><a href="#bandpass-2" id="toc-bandpass-2" class="nav-link" data-scroll-target="#bandpass-2">-Bandpass</a></li>
  <li><a href="#bandstop-2" id="toc-bandstop-2" class="nav-link" data-scroll-target="#bandstop-2">-Bandstop</a></li>
  <li><a href="#hochpass-2" id="toc-hochpass-2" class="nav-link" data-scroll-target="#hochpass-2">-Hochpass</a></li>
  <li><a href="#tiefpass-2" id="toc-tiefpass-2" class="nav-link" data-scroll-target="#tiefpass-2">-Tiefpass</a></li>
  <li><a href="#für-q-10-1" id="toc-für-q-10-1" class="nav-link" data-scroll-target="#für-q-10-1">Für (Q = 10)</a></li>
  <li><a href="#bandpass-3" id="toc-bandpass-3" class="nav-link" data-scroll-target="#bandpass-3">-Bandpass</a></li>
  <li><a href="#bandstop-3" id="toc-bandstop-3" class="nav-link" data-scroll-target="#bandstop-3">-Bandstop</a></li>
  <li><a href="#hochpass-3" id="toc-hochpass-3" class="nav-link" data-scroll-target="#hochpass-3">-Hochpass</a></li>
  <li><a href="#tiefpass-3" id="toc-tiefpass-3" class="nav-link" data-scroll-target="#tiefpass-3">-Tiefpass</a></li>
  <li><a href="#diskussion-der-ergebnisse" id="toc-diskussion-der-ergebnisse" class="nav-link" data-scroll-target="#diskussion-der-ergebnisse">Diskussion der Ergebnisse:</a></li>
  </ul></li>
  <li><a href="#vergleich-ideal-vs.-pcb" id="toc-vergleich-ideal-vs.-pcb" class="nav-link" data-scroll-target="#vergleich-ideal-vs.-pcb">Vergleich: Ideal vs.&nbsp;PCB</a>
  <ul class="collapse">
  <li><a href="#für-q1-1" id="toc-für-q1-1" class="nav-link" data-scroll-target="#für-q1-1">Für <span class="math inline">\(Q=1\)</span></a></li>
  <li><a href="#bandpass-4" id="toc-bandpass-4" class="nav-link" data-scroll-target="#bandpass-4">-Bandpass</a></li>
  <li><a href="#bandstop-4" id="toc-bandstop-4" class="nav-link" data-scroll-target="#bandstop-4">-Bandstop</a></li>
  <li><a href="#hochpass-4" id="toc-hochpass-4" class="nav-link" data-scroll-target="#hochpass-4">-Hochpass</a></li>
  <li><a href="#tiefpass-4" id="toc-tiefpass-4" class="nav-link" data-scroll-target="#tiefpass-4">-Tiefpass</a></li>
  <li><a href="#für-q10-1" id="toc-für-q10-1" class="nav-link" data-scroll-target="#für-q10-1">Für <span class="math inline">\(Q=10\)</span></a></li>
  <li><a href="#bandpass-5" id="toc-bandpass-5" class="nav-link" data-scroll-target="#bandpass-5">-Bandpass</a></li>
  <li><a href="#bandstop-5" id="toc-bandstop-5" class="nav-link" data-scroll-target="#bandstop-5">-Bandstop</a></li>
  <li><a href="#hochpass-5" id="toc-hochpass-5" class="nav-link" data-scroll-target="#hochpass-5">-Hochpass</a></li>
  <li><a href="#tiefpass-5" id="toc-tiefpass-5" class="nav-link" data-scroll-target="#tiefpass-5">-Tiefpass</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#fazit-und-ausblick" id="toc-fazit-und-ausblick" class="nav-link" data-scroll-target="#fazit-und-ausblick"><span class="header-section-number">7</span> Fazit und Ausblick</a></li>
  <li><a href="#literaturverzeichnis" id="toc-literaturverzeichnis" class="nav-link" data-scroll-target="#literaturverzeichnis">Literaturverzeichnis</a></li>
  </ul>
<div class="quarto-alternate-notebooks"><h2>Notebooks</h2><ul><li><a href="content\references-preview.html"><i class="bi bi-journal-code"></i>Literaturverzeichnis</a></li></ul></div></nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">



  


<section id="motivation" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Motivation</h1>
<p>In der Nachrichtentechnik sind Filter unverzichtbar. Insbesondere leistungsfähige, höhergradige Filter stoßen bei passiven RLC-Netzwerken jedoch schnell an ihre Grenzen: Spulen werden dabei sehr groß und teuer. Aufgrund ihrer Fertigungstoleranzen sind sie außerdem oft unzuverlässig bzw. nicht für präzise Filteranwendungen geeignet. Aktive Filter auf Basis von Operationsverstärkern, Kondensatoren und Widerständen bieten hier klare Vorteile, da sich ihre Bauteilwerte einfacher und präziser herstellen und bestimmen lassen. Spulen lassen sich dabei durch Integratorschaltungen ersetzen.</p>
<p>Für das vorliegende Projekt greifen wir gezielt auf die Lerninhalte aus der Systemtheorie (Herleitung und Interpretation von Übertragungsfunktionen), der Elektronik (Verhalten von Operationsverstärkern als Integratoren und Addierer) und der digitalen Signalverarbeitung (Eigenschaften von Butterworth-, Tschebyscheff- und elliptischen Filtern) zurück. <strong>So entsteht eine modulare Biquad-Schaltung, die alle vier Filtercharakteristiken auf einer Platine vereint</strong> und zugleich durch eine zusätzliche Integrator-Stufe ein Butterworth-Filter höherer Ordnung realisiert. Diese durchgängige Lösung vermittelt sowohl theoretische Grundlagen als auch den kompletten Hardware-Design-Prozess – von der Simulation bis zur fertigen Leiterplatte – auf praxisnahe Weise.</p>
<p>Unser Biquad-Filterentwurf präsentiert sich in folgender Ausführung:</p>
<div id="fig-pcb" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/platine.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Abbildung&nbsp;1: Fertige Leiterplatte mit universellem Biquad-Filterentwurf."><img src="images/platine.jpg" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:80.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcb-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;1: Fertige Leiterplatte mit universellem Biquad-Filterentwurf.
</figcaption>
</figure>
</div>
<p>Im Folgenden werden das Verfahren, mit dem wir dieses Design entwickelt haben, sowie das zugrundeliegende Lernkonzept ausführlich dargestellt.</p>
</section>
<section id="theoretischer-hintergrund" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Theoretischer Hintergrund</h1>
<section id="grundlagen-zu-analogen-filtern" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="grundlagen-zu-analogen-filtern"><span class="header-section-number">2.1</span> Grundlagen zu analogen Filtern</h2>
<p>Zunächst haben wir uns mit dem Aufbau analoger Filter beschäftig, um genauer zu sein mit FIltern welche RLC Glieder haben. Das “R” steht für den Widerstand, das “L” steht für die Last und das “C” für den Kondensator.</p>
<p>Jenachdem wie man die einzelnen Bestandteile anordnet, kann man Vier verschiedene Filter entwerfen, einen Hochpass, einen Tiefpass, einen Bandpass und einen Bandstop.</p>
<p>Ein wichtiger Faktor für diese Filter ist die Kreisfrequenz. Diese Hilft einem dabei den Frequenzbereich, welcher für einen von Interesse ist, zu ermitteln, da an der Kreisfrequenz der Filter eine Änderung, je nach Filter, durchläuft.</p>
<p>Bei einem Hochpassfilter werden jegliche Frequenzen vor der Kreisfrequenz gefilter und jegliche Frequenzen nach der Kreisfrequenz durchgelassen.</p>
<p>Der Tiefpassfilter ist das genaue Gegenteil des Hochpassfilters, jegliche Frequenzen vor der Kreisfrequenz werden durchgelasse und jegliche danach gefilter.</p>
<p>Der Bandpassfilter filtert vor und nach der Kreisfrequenz jegliche Frequenzen und lässt die Kreisfrequenz passieren.</p>
<p>Der Bandstopfilter ist das genaue Gegenteil vom Bandpassfilter und lässt jede Frequenz passieren bis auf die Kreisfrequenz.</p>
<ol type="1">
<li>Filter entwurf mit RLC Glied, TP, HP, BP –nicht berichten</li>
</ol>
<section id="übertragungsfunktionen-und-verschiedene-filtertypen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="übertragungsfunktionen-und-verschiedene-filtertypen">Übertragungsfunktionen und verschiedene Filtertypen</h3>
</section>
</section>
<section id="anti-aliasing-filter" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="anti-aliasing-filter"><span class="header-section-number">2.2</span> Anti Aliasing Filter</h2>
<p>Bei allen Messungen im Rahmen dieses Projekts wurde das Messsystem <strong>RedPitaya</strong> eingesetzt. Da RedPitaya ein digitales Oszilloskop ist und die Signale zur weiteren Verarbeitung digitalisiert, spielt der sogenannte <strong>Anti-Aliasing-Filter</strong> eine wichtige Rolle.</p>
<p>Ein <strong>Anti-Aliasing-Filter</strong> ist ein analoger Tiefpassfilter, der direkt vor dem Analog-Digital-Wandler (ADC) platziert wird. Seine Aufgabe ist es, alle Frequenzanteile oberhalb der halben Abtastfrequenz (Nyquist-Frequenz) ausreichend zu dämpfen. Ohne einen solchen Filter würden hohe Frequenzanteile im Eingangssignal beim Digitalisieren als niedrigere Frequenzen (“Aliasing-Effekte”) erscheinen und die Messung verfälschen.</p>
<p><strong>Aber was bedeutet das für uns?</strong></p>
<p>Bevor das Signal von RedPitaya digitalisiert und aufgezeichnet wird, sorgt ein vorgeschalteter Tiefpass (Anti-Aliasing-Filter) dafür, dass nur Signalanteile im relevanten Frequenzbereich erfasst werden. Das schützt vor Messfehlern und stellt sicher, dass die Analyse der Filter (z.B. Biquad, Butterworth) korrekt durchgeführt werden kann.</p>
</section>
<section id="grundlagen-biquad-filter" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="grundlagen-biquad-filter"><span class="header-section-number">2.3</span> Grundlagen Biquad-Filter</h2>
<p>Ein <strong>Biquad-Filter</strong> ist eine universelle, aktive Filterstruktur zweiter Ordnung, die in einer Vielzahl von Anwendungen zur Realisierung unterschiedlicher Filtertypen wie Tiefpass, Hochpass, Bandpass und Bandsperre eingesetzt wird. Die Bezeichnung „Biquad“ leitet sich vom englischen Begriff „biquadratic“ ab und bezieht sich auf die quadratische Form des Nennerpolynoms in der Übertragungsfunktion, was die zweite Ordnung des Filters kennzeichnet.</p>
<p>Die typische Realisierung eines Biquad-Filters erfolgt mittels zweier gekoppelter Operationsverstärkerstufen, die über spezifisch ausgelegte Rückkopplungs- und Durchkopplungsnetzwerke miteinander verbunden sind. Diese Anordnung ermöglicht es, das gewünschte Übertragungsverhalten bereits mit einem vergleichsweise geringen Bauteilaufwand umzusetzen. Durch gezielte <strong>Auswahl der Widerstands- und Kapazitätswerte</strong> lassen sich charakteristische Parameter wie <strong>Grenzfrequenz</strong> und <strong>Gütefaktor (Q)</strong> präzise einstellen, sodass verschiedene Filtercharakteristika, beispielsweise <strong>Butterworth</strong> (maximale Flachheit im Durchlassbereich), Tschebyscheff (ausgeprägte Flankensteilheit mit Welligkeit) oder Bessel (maximale Linearität der Gruppenlaufzeit), realisierbar sind.</p>
<p>Die allgemeine Übertragungsfunktion eines Biquad-Filters lautet:</p>
<p><span class="math display">\[
H(s) = \frac{b_0 + b_1 s + b_2 s^2}{a_0 + a_1 s + a_2 s^2}
\]</span></p>
<p>Hierbei werden die Koeffizienten <span class="math inline">\(b_i\)</span> und <span class="math inline">\(a_i\)</span> durch die konkrete Wahl der Widerstands- und Kondensatorwerte festgelegt. Die verschiedenen Filtertypen unterscheiden sich lediglich in den spezifischen Koeffizientenwerten, während die zugrunde liegende Schaltungsstruktur identisch bleibt. Beispielsweise resultiert ein reiner Bandpass bei <span class="math inline">\(b_0 = b_2 = 0\)</span>, <span class="math inline">\(b_1 \neq 0\)</span>, während bei <span class="math inline">\(b_1 = 0\)</span> und <span class="math inline">\(b_0 = b_2 \neq 0\)</span> eine Bandsperre realisiert wird.</p>
<p>Ein wesentlicher Vorteil des Biquad-Konzepts liegt in seiner Modularität. Durch die serielle oder parallele Verschaltung mehrerer identischer Biquad-Stufen lassen sich problemlos Filter höherer Ordnung aufbauen, ohne dass die Komplexität jeder einzelnen Stufe zunimmt. Zudem ermöglicht die separate Kalibrierbarkeit jeder Stufe eine exakte Justierung von Gütefaktor und Grenzfrequenz, wodurch Fertigungstoleranzen gezielt kompensiert werden können. Aufgrund dieser Flexibilität und der vergleichsweise einfachen Implementierung haben sich Biquad-Filter als Standardlösung in vielen Bereichen etabliert, etwa in der Audio- und Messtechnik sowie in der industriellen Signalverarbeitung.<span class="citation" data-cites="FILTERS07"><a href="#ref-FILTERS07" role="doc-biblioref">[1]</a></span></p>
</section>
<section id="gütefaktor-q-und-einfluss" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="gütefaktor-q-und-einfluss"><span class="header-section-number">2.4</span> Gütefaktor Q und Einfluss</h2>
<p>Der Gütefaktor <span class="math inline">\(Q\)</span> beschreibt bei Zweitordnungs-Filtern, wie scharf die Resonanz um die Mittenfrequenz <span class="math inline">\(\omega_0\)</span> ausgebildet ist. Ein hoher <span class="math inline">\(Q\)</span>-Wert erzeugt eine steilere Flankensteilheit und – bei Bandpass- oder Bandsperre-Charakteristik – einen ausgeprägteren Resonanzbuckel. Mathematisch ergibt sich für die Standard-Übertragungsfunktion eines Zweitordnungs-Tiefpass:</p>
<p><span class="math display">\[
H(s) \;=\; \frac{1}{1 + \frac{s}{\omega_{0} Q} + \left(\frac{s}{\omega_{0}}\right)^{2}}
\]</span></p>
<p>Hier bestimmt <span class="math inline">\(Q\)</span> gemeinsam mit <span class="math inline">\(\omega_0\)</span> die Lage und Streuung der beiden komplexen Polstellen:</p>
<p><span class="math display">\[
s_{1,2} \;=\; -\frac{\omega_{0}}{2Q} \;\pm\; j\,\omega_{0}\,\sqrt{\,1 - \frac{1}{4Q^{2}}\,}\;.
\]</span></p>
<p>Für den ideal „maximal flachen“ Butterworth-Fall wählt man <span class="math inline">\(Q = 1/\sqrt{2} \approx 0{,}707\)</span>, wodurch kein Durchtritts-Peaking auftritt und die Flankensteilheit <span class="math inline">\(-20\ \mathrm{dB/Dekade}\)</span> beträgt (das heißt: Eine Verzehnfachung der Frequenz führt zu einem Pegelabfall von 20 dB). <span class="citation" data-cites="lecture20"><a href="#ref-lecture20" role="doc-biblioref">[2]</a></span></p>
<p>In der KHN-Biquad-Topologie wird der Gütefaktor jedes Teilpfads (Tiefpass, Bandpass, Hochpass, Bandsperre) direkt über das Verhältnis ausgewählter Widerstände eingestellt. Durch Variation dieser Widerstandsrelation lässt sich <span class="math inline">\(Q\)</span> unabhängig von der Eckfrequenz <span class="math inline">\(\omega_0\)</span> justieren – man gewinnt also Kontrolle über die Schärfe der Filtercharakteristik, ohne die Mittenfrequenz zu verändern. Ein niedriger <span class="math inline">\(Q\)</span>-Wert führt zu einem breiten, sanft abfallenden Übergang, während ein hoher <span class="math inline">\(Q\)</span>-Wert die Flanken steiler macht und bei Bandpass- oder Bandsperre-Ausgängen zusätzlich einen ausgeprägten Resonanzbuckel erzeugt.</p>
<p>In diesem Versuch wurden die Gütefaktoren <span class="math inline">\(Q = 1\)</span> und <span class="math inline">\(Q = 10\)</span> eingestellt und das jeweilige Verhalten der Filterausgänge entsprechend beobachtet.</p>
</section>
</section>
<section id="schaltungsentwurf-des-biquad-filters" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Schaltungsentwurf des Biquad-Filters</h1>
<p>Im Folgenden wird die praktische Umsetzung des Biquad-Filters beschrieben. Der Schwerpunkt liegt auf dem gewählten Schaltungsaufbau, der Dimensionierung der Bauteile und der Umsetzung auf dem ASLK Pro Board.</p>
<p>Die universelle Biquad-Topologie lässt sich aus einfachen OP-Amp-Bausteinen aufbauen. Die jeweiligen Teilfilter (Tiefpass, Hochpass, Bandpass, Bandsperre) ergeben sich durch Kombinationen der Grundschaltungen und deren Übertragungsfunktionen.</p>
<section id="der-invertierende-verstärker" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="der-invertierende-verstärker">Der invertierende Verstärker</h3>
<p>Die erste Grundschaltung ist der <strong>invertierende Verstärker</strong>, dessen Schaltung in <a href="#fig-invopamp" class="quarto-xref">Abbildung&nbsp;2</a> gezeigt ist. Ein idealer OP-Amp arbeitet hier mit einem Eingangswiderstand <span class="math inline">\(R_{1}\)</span> und einem Rückkopplungswiderstand <span class="math inline">\(R_{2}\)</span>:</p>
<div id="fig-invopamp" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-invopamp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/invopamp.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Abbildung&nbsp;2: Invertierender Verstärker [@reisch2007]"><img src="images/invopamp.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-invopamp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;2: Invertierender Verstärker <span class="citation" data-cites="reisch2007"><a href="#ref-reisch2007" role="doc-biblioref">[3]</a></span>
</figcaption>
</figure>
</div>
<p><strong>Kurzbeschreibung:</strong><br>
- Der Eingang <span class="math inline">\(V_{1}\)</span> wird über <span class="math inline">\(R_{1}\)</span> auf den invertierenden Eingang geführt.<br>
- Der nichtinvertierende Eingang liegt auf Masse.<br>
- Über <span class="math inline">\(R_{2}\)</span> erfolgt die Rückkopplung vom Ausgang <span class="math inline">\(V_{2}\)</span> in den invertierenden Eingang.</p>
<p><strong>Herleitung der Übertragungsfunktion</strong><br>
- Idealer OP-Amp: <span class="math inline">\(V_{+} = V_{-}\)</span>, Eingangsströme vernachlässigbar.<br>
- Knotenregel am invertierenden Eingang (<span class="math inline">\(V_{-} = 0\)</span>):</p>
<p><span class="math display">\[
\frac{V_{1} - V_{-}}{R_{1}} + \frac{V_{2} - V_{-}}{R_{2}} = 0
\quad\Longrightarrow\quad
\frac{V_{1}}{R_{1}} + \frac{V_{2}}{R_{2}} = 0.
\]</span></p>
<ul>
<li>Umstellen nach <span class="math inline">\(\frac{V_{2}}{V_{1}}\)</span>:</li>
</ul>
<p><span class="math display">\[
\frac{V_{2}}{V_{1}} = -\frac{R_{2}}{R_{1}}.
\]</span></p>
<p>Damit erhält man für den Spannungsübertragungsfaktor des invertierenden Verstärkers:</p>
<p><span class="math display">\[
H_{\text{inv}}(s) = \frac{V_{2}(s)}{V_{1}(s)} \approx -\frac{R_{2}}{R_{1}}.
\]</span></p>
<p>Das Minuszeichen veranschaulicht, dass die Ausgangsspannung eine entgegengesetzte Polarität zur Eingangsspannung aufweist. Diese Schaltungskonfiguration wird daher als invertierender Verstärker oder als Umkehrverstärker bezeichnet. <span class="citation" data-cites="reisch2007"><a href="#ref-reisch2007" role="doc-biblioref">[3]</a></span></p>
<hr>
</section>
<section id="der-addierer" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="der-addierer">Der Addierer</h3>
<p>In der invertierenden Summierschaltung werden mehrere Eingangsspannungen <span class="math inline">\(V_1, V_2, \dots, V_m\)</span> jeweils über gleiche Widerstände <span class="math inline">\(R\)</span> an den invertierenden Eingang eines Operationsverstärkers geführt. Der nichtinvertierende Eingang liegt auf Masse, und der Rückkopplungswiderstand ist <span class="math inline">\(R'\)</span> wie im <a href="#fig-addopamp" class="quarto-xref">Abbildung&nbsp;3</a> dargestellt ist.</p>
<div id="fig-addopamp" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-addopamp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/addopamp.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Abbildung&nbsp;3: Summierverstärker [@reisch2007]"><img src="images/addopamp.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-addopamp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;3: Summierverstärker <span class="citation" data-cites="reisch2007"><a href="#ref-reisch2007" role="doc-biblioref">[3]</a></span>
</figcaption>
</figure>
</div>
<p><strong>Herleitung der Übertragungsfunktion</strong><br>
1. Knotenregel am invertierenden Eingang (Potenzial <span class="math inline">\(V_- = 0\)</span>):</p>
<p><span class="math display">\[
\sum_{i=1}^{m} \frac{V_i - V_-}{R} + \frac{V_{\text{out}} - V_-}{R'} = 0
\quad \Longrightarrow \quad
\sum_{i=1}^{m} \frac{V_i}{R} + \frac{V_{\text{out}}}{R'} = 0.
\]</span></p>
<ol start="2" type="1">
<li>Auflösen nach <span class="math inline">\(\frac{V_{\text{out}}}{V_i}\)</span>:</li>
</ol>
<p><span class="math display">\[
\frac{V_{\text{out}}}{R'} = - \sum_{i=1}^{m} \frac{V_i}{R}
\quad \Longrightarrow \quad
V_{\text{out}} = - R' \sum_{i=1}^{m} \frac{V_i}{R}.
\]</span></p>
<ol start="3" type="1">
<li>Für gleiche Widerstände (<span class="math inline">\(R' = R\)</span>) vereinfacht sich das zu:</li>
</ol>
<p><span class="math display">\[
V_{\text{out}} = - \bigl(V_1 + V_2 + \dots + V_m \bigr).
\]</span></p>
<p>Damit addiert der invertierende OP-Amp die Eingangsspannungen und invertiert das Vorzeichen.</p>
<hr>
</section>
<section id="der-invertierende-integrator" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="der-invertierende-integrator">Der Invertierende Integrator</h3>
<p><a href="#fig-intopamp" class="quarto-xref">Abbildung&nbsp;4</a> zeigt den klassischen invertierenden Integrator:<br>
- Eingangsspannung <span class="math inline">\(V_1\)</span> über Widerstand <span class="math inline">\(R\)</span> auf den invertierenden Eingang des OP-Amps.<br>
- Rückkopplung über Kondensator <span class="math inline">\(C\)</span> zwischen Ausgang <span class="math inline">\(V_2\)</span> und invertierendem Eingang.<br>
- Nichtinvertierender Eingang liegt auf Masse.</p>
<div id="fig-intopamp" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-intopamp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/intopamp.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Abbildung&nbsp;4: Der Integrierer [@reisch2007]"><img src="images/intopamp.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:50.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-intopamp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;4: Der Integrierer <span class="citation" data-cites="reisch2007"><a href="#ref-reisch2007" role="doc-biblioref">[3]</a></span>
</figcaption>
</figure>
</div>
<section id="zeitbereich" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="zeitbereich">Zeitbereich</h4>
<p>Mit der Annahme idealer OP-Amp-Eingänge (<span class="math inline">\(V_{-} = V_{+} = 0\)</span>, <span class="math inline">\(I_{-} = 0\)</span>) gilt:<br>
1. Strom durch <span class="math inline">\(R\)</span>:<br>
<span class="math display">\[
   i_1 = \frac{v_1}{R}
   \]</span> 2. Strom durch <span class="math inline">\(C\)</span>:<br>
<span class="math display">\[
   i_2 = C \frac{dv_2}{dt}.
   \]</span> 3. Knotenregel am invertierenden Eingang (<span class="math inline">\(i_1 + i_2 = 0\)</span>):<br>
<span class="math display">\[
   \frac{v_1}{R} + C \frac{dv_2}{dt} = 0
   \quad\Longrightarrow\quad
   \frac{dv_2}{dt} = -\frac{1}{R C} v_1.
   \]</span> 4. Durch Integrieren folgt:<br>
<span class="math display">\[
   v_2(t) = v_2(0) - \frac{1}{R C} \int_0^t v_1(t')\, dt'.
   \]</span></p>
</section>
<section id="laplace-bereich" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="laplace-bereich">Laplace-Bereich</h4>
<p>Im <span class="math inline">\(s\)</span>-Bereich ersetzt man <span class="math inline">\(\frac{d}{dt}\)</span> durch <span class="math inline">\(s\)</span> und Anfangsbedingungen werden für die Übertragungsfunktion vernachlässigt. Dann gilt:<br>
1. Impedanzen:<br>
<span class="math display">\[
   Z_R = R, \quad Z_C = \frac{1}{s C}.
   \]</span> 2. Knotenregel am invertierenden Eingang (<span class="math inline">\(V_{-} = 0\)</span>):<br>
<span class="math display">\[
   \frac{V_1(s) - 0}{R} + \frac{V_2(s) - 0}{1/(s C)} = 0
   \quad\Longrightarrow\quad
   \frac{V_1(s)}{R} + s C V_2(s) = 0.
   \]</span> 3. Nach <span class="math inline">\(\frac{V_2(s)}{V_1(s)}\)</span> auflösen:<br>
<span class="math display">\[
   s C V_2(s) = - \frac{V_1(s)}{R}
   \quad\Longrightarrow\quad
   \frac{V_2(s)}{V_1(s)} = - \frac{1}{s R C}.
   \]</span></p>
<p>Somit lautet die <strong>Übertragungsfunktion des invertierenden Integrators</strong>:</p>
<p><span class="math display">\[
H_{\mathrm{int}}(s) = \frac{V_2(s)}{V_1(s)} = - \frac{1}{s R C}.
\]</span></p>
<hr>
</section>
</section>
<section id="universeller-aktiver-filter-2.-ordnung-biquad" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="universeller-aktiver-filter-2.-ordnung-biquad"><span class="header-section-number">3.1</span> Universeller aktiver Filter 2. Ordnung (Biquad)</h2>
<p>Im Rahmen dieses Projekts wurde die Biquad-Schaltung nach dem <strong>ASLK Pro Experiment 4</strong> realisiert. Diese Experimentierplatine ermöglicht die einfache Umsetzung und Untersuchung verschiedener Filterkonfigurationen auf Basis von Operationsverstärkern.</p>
<p>Die folgende Abbildung zeigt die Schaltung des Biquad-Filters, wie sie im ASLK Pro Experiment 4 verwendet wurde:</p>
<div id="fig-biquadfilter" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-biquadfilter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/biquad_aslk_exp4.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="Abbildung&nbsp;5: Zweiter Ordnung Universeller Aktiver Filter."><img src="images/biquad_aslk_exp4.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:80.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-biquadfilter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;5: Zweiter Ordnung Universeller Aktiver Filter.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>
</figcaption>
</figure>
</div>
<section id="auswahl-und-berechnung-der-bauteile" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="auswahl-und-berechnung-der-bauteile">Auswahl und Berechnung der Bauteile</h3>
<p>Ein wichtiger Aspekt der Realisierung der Schaltung, wie wir sie in <a href="#fig-biquadfilter" class="quarto-xref">Abbildung&nbsp;5</a> gesehen haben, liegt in der gezielten Auswahl der <strong>Widerstände (R)</strong> und <strong>Kondensatoren (C)</strong>. Die genaue Dimensionierung dieser Bauteile bestimmt die wesentlichen Filtereigenschaften wie <strong>Grenzfrequenz</strong>, <strong>Gütefaktor</strong> und <strong>Verstärkung</strong>.</p>
<p>Diese Schaltung bildet die Grundlage für die nachfolgenden Messungen und Analysen im Projekt. Verschiedene Filtertypen können durch Anpassung der Einspeisepunkte und Bauteilwerte realisiert werden.</p>
<p>Die Auswahl der Bauteile für den Biquad-Filter erfolgte nach Vorgabe von zwei unterschiedlichen Kreisfrequenzen gemäß dem ASLK Pro Experiment 4:</p>
<ul>
<li><p>Für <span class="math inline">\(\omega_0 = 1\,\text{KHz}\)</span> (<span class="math inline">\(f_0\)</span> entspricht ca. <span class="math inline">\(160\,\text{Hz}\)</span>) wurde <span class="math inline">\(R = 1\,\text{k}\Omega\)</span> und <span class="math inline">\(C = 1\,\mu\text{F}\)</span> verwendet.</p></li>
<li><p>Für <span class="math inline">\(\omega_0 = 10\,\text{KHz}\)</span> (<span class="math inline">\(f_0\)</span> entspricht ca. <span class="math inline">\(1\,600\,\text{Hz}\)</span>) wurde <span class="math inline">\(R = 1\,\text{k}\Omega\)</span> und <span class="math inline">\(C = 0{,}1\,\mu\text{F}\)</span> eingesetzt.</p></li>
</ul>
<p>Die Dimensionierung basiert auf der Beziehung: <span class="math display">\[
\omega_0 = \frac{1}{RC}
\]</span></p>
<p>Damit ergibt sich für beide Fälle:</p>
<ul>
<li><p><span class="math inline">\(1\,\text{KHz} = \frac{1}{1\,\text{k}\Omega \cdot 1\,\mu\text{F}}\)</span></p></li>
<li><p><span class="math inline">\(10\,\text{KHZ} = \frac{1}{1\,\text{k}\Omega \cdot 0{,}1\,\mu\text{F}}\)</span></p></li>
</ul>
<p>Der Gütefaktor <span class="math inline">\(Q\)</span> wurde jeweils über das Verhältnis der Widerstände in den Rückkopplungszweigen angepasst, entsprechend den Vorgaben des Experiments.</p>
<div id="fig-gütewiderstand" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gütewiderstand-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/Güte_Faktor.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Abbildung&nbsp;6: Gütefaktor und zuständige Widerstand."><img src="images/Güte_Faktor.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:80.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-gütewiderstand-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;6: Gütefaktor und zuständige Widerstand.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>
</figcaption>
</figure>
</div>
<p>Wie in Abbildung <a href="#fig-gütewiderstand" class="quarto-xref">Abbildung&nbsp;6</a> dargestellt, wird der <strong>Gütefaktor (<span class="math inline">\(Q\)</span>)</strong> des Filters maßgeblich durch den Widerstand im oberen Zweig der Schaltung (beschriftet mit “<span class="math inline">\(Q \cdot R\)</span>”) bestimmt. Dieser Widerstand legt, zusammen mit den verwendeten Kondensatoren, die Selektivität und Bandbreite des Filters fest. Um einen gewünschten Gütefaktor einzustellen, wird entsprechend der Wert dieses Widerstands angepasst.</p>
<p>Es ist zu beachten, dass bei einer Änderung des Gütefaktors in der Praxis häufig auch der Wert der Kondensatoren (<span class="math inline">\(C\)</span>) mit angepasst werden muss. Nur so bleibt das Zusammenspiel von Mittenfrequenz (<span class="math inline">\(\omega_0 = 1/RC\)</span>) und Gütefaktor (<span class="math inline">\(Q\)</span>) für die gewünschte Filtercharakteristik erhalten.</p>
<p>Der sogenannte Gütewiderstand ist somit ein zentrales Element für die Feinanpassung der Filtereigenschaften bei universellen aktiven Filterschaltungen wie dem hier gezeigten Biquad-Filter.</p>
<p>Die in diesem Abschnitt verwendeten Bauteilwerte sind in der folgenden Tabelle übersichtlich zusammengefasst:</p>
<div id="tbl-dimensions" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-dimensions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabelle&nbsp;1: Dimensionierung der Bauteile
</figcaption>
<div aria-describedby="tbl-dimensions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 26%">
<col style="width: 7%">
<col style="width: 20%">
<col style="width: 25%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th><span class="math inline">\(\omega_0\)</span> [kHz]</th>
<th><span class="math inline">\(Q\)</span></th>
<th><span class="math inline">\(C\)</span> [<span class="math inline">\(\mu\)</span>F]</th>
<th><span class="math inline">\(R\)</span> [k<span class="math inline">\(\Omega\)</span>]</th>
<th><span class="math inline">\(Q \cdot R\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>10</td>
<td>10</td>
<td>0,1</td>
<td>1</td>
<td>10</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Auf diese Weise konnte für beide Versuchsvarianten die gewünschte Kreisfrequenz sowie der zugehörige Gütefaktor realisiert werden.</p>
</section>
</section>
<section id="simulation-und-aufbau" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="simulation-und-aufbau"><span class="header-section-number">3.2</span> Simulation und Aufbau</h2>
<p>Nachdem die Bauteilwerte für die gewünschten Filtereigenschaften festgelegt waren, wie in <a href="#tbl-dimensions" class="quarto-xref">Tabelle&nbsp;1</a> zu sehen, wurde die Schaltung in <strong>KiCad 9.0</strong> aufgebaut und simuliert.</p>
<p>Unser Ziel war es, ein Referenzmodell für das spätere praktische Verhalten des Filters zu erhalten. Mit Hilfe der Bode-Plot-Simulationen konnten die theoretisch zu erwartenden Amplituden- und Phasengänge überprüft werden. Der Filterentwurf in KiCad kann wie in Abbildung <a href="#fig-Kicad" class="quarto-xref">Abbildung&nbsp;7</a> dargestellt aufgebaut werden:</p>
<div id="fig-Kicad" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Kicad-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/Kicad_Schaltung_2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="Abbildung&nbsp;7: Simulationsaufbau für den aktiven Biquad-Filter in KiCad."><img src="images/Kicad_Schaltung_2.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Kicad-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;7: Simulationsaufbau für den aktiven Biquad-Filter in KiCad.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>
</figcaption>
</figure>
</div>
<section id="simulation-der-schaltung-kicad" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="simulation-der-schaltung-kicad">Simulation der Schaltung (KiCad)</h3>
<p>Die Simulation diente dazu, eventuelle Fehler oder Unstimmigkeiten im Schaltungsentwurf frühzeitig zu erkennen und die Praxistauglichkeit des gewählten Aufbaus zu beurteilen. So konnten vor dem Laboraufbau bereits wichtige Eigenschaften wie die Durchlasskurve, die Flankensteilheit und das Verhalten des Filters bei verschiedenen Gütefaktoren visualisiert und bewertet werden. Die aus der Simulation gewonnenen Frequenzgänge bilden die Grundlage für den späteren Vergleich mit den Messergebnissen am realen Aufbau. Die Ergebnisse der simulierten Schaltung sind in den folgenden Plots dargestellt:</p>
<section id="für-q-1" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="für-q-1">für <span class="math inline">\(Q = 1\)</span></h4>
<div id="fig-bodeQ1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bodeQ1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="simulation\Q1_Plot.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="Abbildung&nbsp;8: Bode-Plot der simulierten Biquad-Schaltung für Q = 1."><img src="simulation\Q1_Plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bodeQ1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;8: Bode-Plot der simulierten Biquad-Schaltung für <span class="math inline">\(Q = 1\)</span>.
</figcaption>
</figure>
</div>
</section>
<section id="für-q-10" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="für-q-10">für <span class="math inline">\(Q = 10\)</span></h4>
<div id="fig-bodeQ10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bodeQ10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="simulation\Q10_Plot.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="Abbildung&nbsp;9: Bode-Plot der simulierten Biquad-Schaltung für Q = 10."><img src="simulation\Q10_Plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bodeQ10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;9: Bode-Plot der simulierten Biquad-Schaltung für <span class="math inline">\(Q = 10\)</span>.
</figcaption>
</figure>
</div>
<p>Wie in den Abbildungen <a href="#fig-bodeQ1" class="quarto-xref">Abbildung&nbsp;8</a> und <a href="#fig-bodeQ10" class="quarto-xref">Abbildung&nbsp;9</a> zu erkennen ist, stimmen die simulierten Amplituden- und Phasengänge gut mit den theoretisch erwarteten Kurven überein. Die Filter zeigen die charakteristischen Eigenschaften entsprechend der gewählten Bauteilwerte und Gütefaktoren.</p>
<p>Um einen besseren Vergleich zu ermöglichen, sind in den folgenden Abbildungen die theoretischen Amplituden- und Phasengänge dargestellt. Diese Kurven wurden dem ASLK Pro Manual entnommen und dienen als Referenz, um die Übereinstimmung zwischen Simulation und Theorie zu veranschaulichen.</p>
<div id="fig-bodetheori" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bodetheori-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/theorie_plot.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10" title="Abbildung&nbsp;10: Theoretische Amplituden- und Phasengänge aus dem ASLK Pro Manual "><img src="images/theorie_plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bodetheori-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;10: Theoretische Amplituden- und Phasengänge aus dem ASLK Pro Manual <a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>
</figcaption>
</figure>
</div>
</section>
</section>
<section id="aufbau-auf-dem-aslk-pro-board" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="aufbau-auf-dem-aslk-pro-board">Aufbau auf dem ASLK PRO Board</h3>
<p>Aufbau von der Schaltung auf ASLK Board mit jumper Wires</p>
<p>Das Analog System Lab Kit Pro Board (ASLK Pro Board), ist ein Steckbrett auf welchem man Schaltungen simpel und ohne zu Löten umsetzten kann. Mit hilfe dieses Steckbretts konnten wir die angegebene Schaltung aus dem Lab Manual, Labor 4, realisieren. Doch damit die Umsetzung erfolgreich wurde, mussten wir zunächst die Spezifikationen für die Schaltung bestimmen, siehe <a href="#tbl-dimensions" class="quarto-xref">Tabelle&nbsp;1</a>.</p>
<p>Daraufhin haben wir damit begonnen die Schaltung auf dem Steckbrett aufzubauen. Dies haben wir mit Kabeln und steckbaren Widerständen umgesetzt.</p>
<div id="fig-Realaufbau" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-Realaufbau-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/Realaufbau.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-11" title="Abbildung&nbsp;11: Aufbau auf dem ASLK PRO Board"><img src="images/Realaufbau.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-Realaufbau-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;11: Aufbau auf dem ASLK PRO Board
</figcaption>
</figure>
</div>
<p>Diese Schaltung haben wir mit einem RedPitaya verbunden, mit welchem wir die jeweiligen Filter messen konnten.</p>
<p>Nachdem wir die einezlnen Filter gemessen haben, setzten wir die Schaltung in KiCAD um, damit wir einen Vergleich für die Filter erhalten.</p>
<p>Zuletzt haben wir das Steckbrett noch für die Aufgaben aus dem Lab Manual benutzt, wodurch wie immer wieder leichte Veränderungen an der Schaltung vornehmen mussten.</p>
<ol start="4" type="1">
<li><p>ASLK Lab Manual - Labor 4 gelesen, Spezifikation gelesen, Schaltung gesehen, Ziel des Projekts festgelegt</p></li>
<li><p>Spezifikation für die Schaltung: Durch Kreisfrequenzen R , C werte und Kreisfrequenz f berechnet, Güte Faktor miteinbezogen</p></li>
<li><p>Simulation auf KiCAD durchgeführt, Plots mit dem Manual verglichen</p></li>
<li><p>Schaltungsaufbau auf dem ASLK Board mit Kabeln</p></li>
<li><p>RedPitaya integriert für Messung und Auswertung der Schaltung (Bode-Plot und Messwerte)</p></li>
<li><p>Nach ASLK Manual Aufgaben gemacht und die Messwerte aufgenommen, leichte änderung an der Schaltung je nach Aufgabenstellung</p></li>
</ol>
</section>
</section>
<section id="butterworth-3.-ordnung-entwurf-und-erweiterung" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="butterworth-3.-ordnung-entwurf-und-erweiterung"><span class="header-section-number">3.3</span> Butterworth 3. Ordnung: Entwurf und Erweiterung</h2>
<p>Ein Butterworth-Filter zeichnet sich durch ein maximales Flachheitskriterium im Durchlassbereich aus und liefert eine steile Flanke von <span class="math inline">\(-20\ \mathrm{dB/Dekade}\)</span> pro Filterordnung ohne Überschwingen.<br>
Um im Rahmen dieses Experiments einen Tiefpass dritter Ordnung zu realisieren, wurde der Ausgang des bereits etablierten Zweitordnungs-Tiefpasses als Eingang für eine weitere Integratorstufe verwendet.</p>
<div id="fig-bw3" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bw3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/butterworth.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12" title="Abbildung&nbsp;12: Butterworth Filter 3. Ordnung"><img src="images/butterworth.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:70.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bw3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;12: Butterworth Filter 3. Ordnung
</figcaption>
</figure>
</div>
<section id="normale-integrator-übertragungsfunktion" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="normale-integrator-übertragungsfunktion">Normale Integrator-Übertragungsfunktion:</h4>
<p>Ein idealer invertierender Integrator mit Eingangswiderstand <span class="math inline">\(R\)</span> und Rückkopplungskondensator <span class="math inline">\(C\)</span> besitzt im <span class="math inline">\(S\)</span>-Bereich die Übertragungsfunktion</p>
<p><span class="math display">\[
H_{\text{ideal}}(s) = \frac{V_{\mathrm{out}}(s)}{V_{\mathrm{in}}(s)} = - \frac{1}{s\,R\,C}.
\]</span></p>
</section>
<section id="integrator" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="integrator">Integrator:</h4>
<p>Um bei tiefen Frequenzen eine unendliche Gleichstromverstärkung zu vermeiden, wird in der Rückkopplung ein Widerstand <span class="math inline">\(R_{10}\)</span> parallel zu <span class="math inline">\(C_{3}\)</span> geschaltet. Die Impedanz des Feedback-Zweigs lautet</p>
<p><span class="math display">\[
Z_{f}(s) = \frac{R_{10}}{1 + s\,R_{10}\,C_{3}},
\]</span></p>
<p>und die Übertragungsfunktion des <strong>Integrators</strong> mit Eingangswiderstand <span class="math inline">\(R_{9}\)</span> ist</p>
<p><span class="math display">\[
H_{\text{int}}(s) = - \frac{Z_{f}(s)}{R_{9}} = - \frac{R_{10}}{R_{9}} \cdot \frac{1}{1 + s\,R_{10}\,C_{3}}.
\]</span></p>
</section>
<section id="zweitordnungs-tiefpass" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="zweitordnungs-tiefpass">Zweitordnungs-Tiefpass:</h4>
<p>Die bereits etablierte Tiefpass-Stufe zweiter Ordnung hat die Form</p>
<p><span class="math display">\[
H_{2}(s) = \frac{V_{03}(s)}{V_{\mathrm{in}}(s)} = \frac{H_{0}}{1 + \frac{s}{\omega_{0} Q} + \left(\frac{s}{\omega_{0}}\right)^2} = \frac{H_{0} \,\omega_{0}^{2}}{s^{2} + \frac{\omega_{0}}{Q} s + \omega_{0}^{2}}.
\]</span></p>
</section>
<section id="gesamtübertragungsfunktion" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="gesamtübertragungsfunktion">Gesamtübertragungsfunktion:</h4>
<p>Die Gesamtübertragungsfunktion des Butterworth-Tiefpasses 3. Ordnung ergibt sich durch Kaskadierung beider Stufen:</p>
<p><span class="math display">\[
H_{3}(s) = H_{2}(s) \times H_{\text{int}}(s) = \frac{H_{0} \,\omega_{0}^{2}}{s^{2} + \frac{\omega_{0}}{Q} s + \omega_{0}^{2}} \times \left(- \frac{R_{10}}{R_{9}} \cdot \frac{1}{1 + s\,R_{10}\,C_{3}} \right).
\]</span></p>
<p>Wählt man <span class="math inline">\(\omega_{0} = \frac{1}{R_{10} C_{3}}\)</span> und <span class="math inline">\(\frac{R_{10}}{R_{9}} = 1\)</span> , so vereinfacht sich die Gleichung zu</p>
<p><span class="math display">\[
H_{3}(s) = - \frac{H_{0} \,\omega_{0}^{3}}{(s^{2} + \frac{\omega_{0}}{Q} s + \omega_{0}^{2})(s + \omega_{0})}.
\]</span></p>
<p>Durch Ausmultiplizieren des Nenners erhält man die Normform:</p>
<p><span class="math display">\[
\boxed{
H_{\mathrm{BW3}}(s) = \frac{V_{\mathrm{out}}(s)}{V_{\mathrm{in}}(s)} = - \frac{H_{0} \,\omega_{0}^{3}}{s^{3} + \left(1 + \frac{1}{Q}\right) \omega_{0} s^{2} + \left(1 + \frac{1}{Q}\right) \omega_{0}^{2} s + \omega_{0}^{3}}
}.
\]</span></p>
</section>
</section>
</section>
<section id="charakterisierung" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Charakterisierung</h1>
<section id="steckbrett" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="steckbrett">Steckbrett</h3>
<p>Wie zu erwarten, hat bei uns nicht alles von begin an funktioniert. Wir haben Fehler gemacht und generelle Probleme gehabt, welche wir alle lösen konnten. Zu begin stimmten die Messungen des Steckbrettes nicht mit unseren simulierten Ergebnissen überein. Nach überprüfung der Schaltung, ist uns auch mit hilfe des Laboringenieurs, kein Fehler aufgefallen. Nachdem wir davon ausgehen konnten, dass die Schaltung funktionieren sollte, haben wir den Entschluss gefasst, die Schaltung auf einem anderen Steckbrett aufzubauen. Um weitere Probleme zu vermeiden, haben wir bei dem zweiten Aufbau auf Kabelverlängerungen verzichtet, um jegliche Chanche auf Abweichung zu verringern. Nachdem wir die Schaltung auf dem neuen Steckbrett aufgebaut haben, stimmten die Messdaten des Steckbrettes mit unserer Simulation überein. Daraus können wir schließen, dass das Steckbrett fehlerhaft war.</p>
<ol start="9" type="1">
<li>Schaltungsverhalten unerwartet, dann die Schaltung überprüft (gemerkt: Kabelnstecken ist eine Fehlerquelle)</li>
<li>Messung erneut düchgeführt, mussten nochmal schaltüng überprüfen</li>
<li>Das Problem war ASLK Board und nicht der Aufbau, rausgefunden indem: die Schaltung vom Laboring überprüfen lassen</li>
<li>Die Schaltung neu aufbaut, mit dem neuen Board und ohne Kabeln zu verlängern (keine 2 Kabeln zusammengesteckt)</li>
<li>Nochmal gemessen und erwartete Ergebnisse bekommen. (Bestätigt - Board war das Problem)</li>
</ol>
</section>
<section id="dämpfung" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="dämpfung">Dämpfung</h3>
<p>Doch das Steckbrett war nicht unser einziges Problem. Nachdem wir die einzelnen Filter gemessen haben, ist uns aufgefallen, dass eine Dämpfung von 20dB vorliegt. Bei der Fehlersuche ist uns mit dem bloßen Auge zunächst nichts aufgefallen. Draufhin haben wir mit Hilfe von einem Multimeter die Widerstände überprüft. Dabei haben wir bemerkt, dass der Widerstand R6 10K Ohm anstatt 1K Ohm betragen hat. Dieser Fehler ist uns vermutlich beim bearbeiten einer der Lab Aufgaben unterlaufen. Nachdem wir den Widerstand gewecheselt haben, ist jedoch ein weiterer Fehler aufgetaucht. Da keine Dämpfung mehr vorlag, mussten wir den RedPitaya von “Low Voltage” auf “High Voltage” stellen. Ohne diese Änderung könnte der RedPitaya nur von -1 Volt bis 1 Volt messen. Nachdem wir den RedPitaya auf “High Voltage” gestellt haben, sahen unsere Messungen so aus wie die Simulation. Somit konnten wir das Problem, dass wir eine 20dB Dämpfung haben, beheben.</p>
<ol start="16" type="1">
<li>Bode Plot analysiert um Verhalten von Filtern zu überprüfen, -20dB Dämpfung in der Amplitude rausgefunden</li>
<li>Fehler Suche: Wiederstände überprüft und die auf dem Board gemessen mit Multimeter, festgestellt: R6 war 10k Ohm anstatt 1k Ohm</li>
<li>RedPitaya auf HV gestellt, um Peak Messwerte richtig zu bekommen</li>
<li>Messungen erneut aufgenommen, Fehler beseitigt</li>
</ol>
</section>
</section>
<section id="messung-und-analyse" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Messung und Analyse</h1>
<p>Nachdem wir die Biquad-Filter-Schaltung bereits erfolgreich auf dem ASLK Pro Board aufgebaut haben, lag der Fokus dieses Abschnitts auf der Durchführung der Messungen und der anschließenden Auswertung der Ergebnisse. Ziel war es, die realen Frequenzgänge der verschiedenen Filtertypen experimentell zu erfassen und diese mit den zuvor durchgeführten Simulationen zu vergleichen.</p>
<section id="messungsschritte" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="messungsschritte">Messungsschritte</h3>
<p>Für die experimentelle Ermittlung des Frequenzgangs wurde die Schaltung mithilfe der grafischen Oberfläche des Red Pitaya vermessen.</p>
<p>Die so gewonnenen Messdaten wurden im Anschluss exportiert und zur weiteren Analyse mit einem eigens entwickelten Python-Skript ausgewertet. Dadurch war es möglich, die Amplituden- und Phasengänge der real aufgebauten Schaltung systematisch mit den Simulationskurven zu vergleichen.</p>
</section>
<section id="vergleich-simulation-vs.-diskret" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="vergleich-simulation-vs.-diskret"><span class="header-section-number">5.1</span> Vergleich Simulation vs.&nbsp;Diskret</h2>
<p>Zur Bewertung der praktischen Umsetzung wurden die Messergebnisse der real aufgebauten Schaltung mit den zuvor durchgeführten Simulationen verglichen. Für beide Gütefaktoren (<span class="math inline">\(Q=1\)</span> und <span class="math inline">\(Q=10\)</span>) wurden jeweils die Frequenzgänge der vier Filtertypen (Tiefpass, Hochpass, Bandpass und Bandsperre) aufgenommen und grafisch gegenübergestellt.</p>
<section id="für-q1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="für-q1">Für <span class="math inline">\(Q=1\)</span></h3>
</section>
<section id="bandpass" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bandpass">-Bandpass</h3>
<div id="fig-bpf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="Mess_Sim_Vergleich\Q1\Bandpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13" title="Abbildung&nbsp;13: Bode-Plot Vergleich des simulierten- und des auf dem Board Bandpassfilters für Q = 1."><img src="Mess_Sim_Vergleich\Q1\Bandpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;13: Bode-Plot Vergleich des simulierten- und des auf dem Board Bandpassfilters für <span class="math inline">\(Q = 1\)</span>.
</figcaption>
</figure>
</div>
</section>
<section id="bandstop" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bandstop">-Bandstop</h3>
<div id="fig-bsf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bsf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="Mess_Sim_Vergleich\Q1\Bandstop_richtig_R6.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14" title="Abbildung&nbsp;14: Bode-Plot Vergleich des simulierten- und des auf dem Board Bandstopfilters für Q = 1."><img src="Mess_Sim_Vergleich\Q1\Bandstop_richtig_R6.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bsf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;14: Bode-Plot Vergleich des simulierten- und des auf dem Board Bandstopfilters für <span class="math inline">\(Q = 1\)</span>.
</figcaption>
</figure>
</div>
</section>
<section id="hochpass" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="hochpass">-Hochpass</h3>
<div id="fig-hpf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="Mess_Sim_Vergleich\Q1\Hochpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15" title="Abbildung&nbsp;15: Bode-Plot Vergleich des simulierten- und des auf dem Board Hochpassfilters für Q = 1."><img src="Mess_Sim_Vergleich\Q1\Hochpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;15: Bode-Plot Vergleich des simulierten- und des auf dem Board Hochpassfilters für <span class="math inline">\(Q = 1\)</span>.
</figcaption>
</figure>
</div>
</section>
<section id="tiefpass" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="tiefpass">-Tiefpass</h3>
<div id="fig-tpf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-tpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="Mess_Sim_Vergleich\Q1\Tiefpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16" title="Abbildung&nbsp;16: Bode-Plot Vergleich des simulierten- und des auf dem Board Tiefpassfilters für Q = 1."><img src="Mess_Sim_Vergleich\Q1\Tiefpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;16: Bode-Plot Vergleich des simulierten- und des auf dem Board Tiefpassfilters für <span class="math inline">\(Q = 1\)</span>.
</figcaption>
</figure>
</div>
</section>
<section id="für-q10" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="für-q10">Für <span class="math inline">\(Q=10\)</span></h3>
</section>
<section id="bandpass-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bandpass-1">-Bandpass</h3>
<div id="fig-bpf10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="Mess_Sim_Vergleich\Q10\Bandpass_ohne_Dämpfung.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17" title="Abbildung&nbsp;17: Bode-Plot Vergleich des simulierten- und des auf dem Board Bandpassfilters für Q = 10."><img src="Mess_Sim_Vergleich\Q10\Bandpass_ohne_Dämpfung.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;17: Bode-Plot Vergleich des simulierten- und des auf dem Board Bandpassfilters für <span class="math inline">\(Q = 10\)</span>.
</figcaption>
</figure>
</div>
</section>
<section id="bandstop-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bandstop-1">-Bandstop</h3>
<div id="fig-bsf10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bsf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="Mess_Sim_Vergleich\Q10\Bandstop_ohne_Dämpfung.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18" title="Abbildung&nbsp;18: Bode-Plot Vergleich des simulierten- und des auf dem Board Bandstopfilters für Q = 10."><img src="Mess_Sim_Vergleich\Q10\Bandstop_ohne_Dämpfung.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bsf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;18: Bode-Plot Vergleich des simulierten- und des auf dem Board Bandstopfilters für <span class="math inline">\(Q = 10\)</span>.
</figcaption>
</figure>
</div>
</section>
<section id="hochpass-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="hochpass-1">-Hochpass</h3>
<div id="fig-hpf10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="Mess_Sim_Vergleich\Q10\Hochpass_ohne_Dämpfung.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19" title="Abbildung&nbsp;19: Bode-Plot Vergleich des simulierten- und des auf dem Board Hochpassfilters für Q = 10."><img src="Mess_Sim_Vergleich\Q10\Hochpass_ohne_Dämpfung.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;19: Bode-Plot Vergleich des simulierten- und des auf dem Board Hochpassfilters für <span class="math inline">\(Q = 10\)</span>.
</figcaption>
</figure>
</div>
</section>
<section id="tiefpass-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="tiefpass-1">-Tiefpass</h3>
<div id="fig-tpf10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-tpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="Mess_Sim_Vergleich\Q10\Tiefpass_ohne_Dämpfung.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20" title="Abbildung&nbsp;20: Bode-Plot Vergleich des simulierten- und des auf dem Board Tiefpassfilters für Q = 10."><img src="Mess_Sim_Vergleich\Q10\Tiefpass_ohne_Dämpfung.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;20: Bode-Plot Vergleich des simulierten- und des auf dem Board Tiefpassfilters für <span class="math inline">\(Q = 10\)</span>.
</figcaption>
</figure>
</div>
</section>
</section>
<section id="interpretation-der-messergebnisse" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="interpretation-der-messergebnisse"><span class="header-section-number">5.2</span> Interpretation der Messergebnisse</h2>
<p>Hier erklären wir die Unterschiede zwischen Simulation und echte Messwerte</p>
</section>
</section>
<section id="umsetzung-als-leiterplatte" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Umsetzung als Leiterplatte</h1>
<p>Die Umsetzung der Biquad-Schaltung auf eine gedruckte Leiterplatte (PCB) verfolgt mehrere Ziele: Erstens erhöht eine professionelle Leiterplatte die mechanische Stabilität und Wiederholgenauigkeit im Vergleich zu Jumperkabel-Versuchen. Zweitens minimiert eine sorgfältig geroutete Platine parasitäre Effekte (Leitungsinduktivitäten, -kapazitäten), die bei langen, unkontrollierten Kabelwegen auftreten. Drittens erlaubt die PCB eine kompakte, übersichtliche Integration aller Filterzweige, sodass verschiedene Eckfrequenzen oder Gütefaktoren per Jumper umgeschaltet werden können, ohne das Board komplett neu aufzubauen.</p>
<section id="vorgehensweise-im-layoutprozess" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="vorgehensweise-im-layoutprozess"><span class="header-section-number">6.1</span> Vorgehensweise im Layoutprozess</h2>
<ol type="1">
<li><p><strong>Auswahl der Basis-Topologie</strong><br>
Zunächst wurde die einfachste Biquad-Schaltung für Güte <span class="math inline">\(Q=1\)</span> mit Eckfrequenz <span class="math inline">\(\approx 160\,\mathrm{Hz}\)</span> in KiCad aufgebaut.</p></li>
<li><p><strong>Footprint-Zuordnung</strong><br>
Für alle Bauteile (Operationsverstärker im DIL-Sockel, Widerstände, Kondensatoren, Jumper) wurden passende Footprints manuell ausgewählt. DIL-Sockel ermöglichen den einfachen Ein- und Ausbau der OP-Amps.</p></li>
<li><p><strong>Erweiterung um Schaltoptionen</strong><br>
Um Messungen bei zwei unterschiedlichen Gütefaktoren und zwei Eckfrequenzen zu ermöglichen, wurden Jumper-Pads vorgesehen, mit denen man:</p>
<ul>
<li>zwischen <span class="math inline">\(Q=1\)</span> und <span class="math inline">\(Q=10\)</span> umschalten<br>
</li>
<li>die Eckfrequenz durch Parallelschaltung unterschiedlicher RC-Glieder wechseln<br>
</li>
<li>den LPF-Ausgang als Eingang für die 3. Ordnung–Butterworth-Stufe aktivieren kann</li>
</ul></li>
<li><p><strong>Platzoptimierung</strong><br>
Das erste Layout maß ca. 5 cm × 7 cm (siehe <a href="#fig-pcbv1" class="quarto-xref">Abbildung&nbsp;21</a>), war aber zu unflexibel. Das erweiterte Design kam auf 5 cm × 8 cm(siehe <a href="#fig-pcbs" class="quarto-xref">Abbildung&nbsp;22</a>). Dabei war uns wichtig:</p>
<ul>
<li><strong>Bauteilenah</strong>: Kurze Verbindungen zwischen OP-Amp-Pins und zugehörigen RC-Netzwerken reduzieren parasitäre L- und C-Effekte.<br>
</li>
<li><strong>Abwinkelung</strong>: Leiterbahnen wurden nur mit maximal <span class="math inline">\(45^\circ\)</span>-Ecken geroutet, um Reflexionen und Signalverzerrungen bei höheren Frequenzen zu minimieren.<br>
</li>
<li><strong>Layernutzung</strong>: Das Top-Layer für Signal- und Strompfade, das Bottom-Layer vollständig als durchgehende Massefläche („Ground Plane“) reserviert. So entfallen separate GND-Drähte.</li>
<li><strong>Decoupling</strong>: An jeder Spannungsversorgung des TL082 wurde <span class="math inline">\(100\,\mathrm{nF}\)</span> Kondensatoren nahe den OP-Amp-Pins platziert, um Versorgungsspannungsspitzen und Rauschen zu unterdrücken.</li>
</ul>
<div id="fig-pcbv1" class="quarto-float quarto-figure quarto-figure-left anchored" data-fig-align="left">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbv1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/pcbv1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21" title="Abbildung&nbsp;21: PCB-Design Version 1"><img src="images/pcbv1.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:60.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbv1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;21: PCB-Design Version 1
</figcaption>
</figure>
</div></li>
</ol>
<hr>
<section id="design-verbesserungen-und-begründungen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="design-verbesserungen-und-begründungen">Design-Verbesserungen und Begründungen</h3>
<ol type="1">
<li><p><strong>Bauteiwertebeschriftung</strong><br>
Jeder Widerstand und Kondensator erhielt eine Referenz („R1“, „C3“) und einen Wertaufdruck auf der Silkscreen-Schicht. Fehlt dies, kann beim Bestücken leicht verwechselt werden.</p></li>
<li><p><strong>Fehlender GND-Pins</strong><br>
Auf dem PCB fehlte Ground-Pins. Dadurch war es schwer, während der Messung eine sichere Masseverbindung herzustellen. Wir haben das provisorisch durch manuelles Bohren von zwei Löchern und den Einbau von Pins zur Groundplane behoben.</p></li>
<li><p><strong>Jumper als Fehlerquelle</strong><br>
Die mechanischen Jumper auf dem Board sind zwar flexibel, können aber ähnliche Störeffekte wie Jumperkabel verursachen und Messungenauigkeiten einführen.</p></li>
</ol>
<div id="fig-pcbs" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/pcbv2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22" title="Fertiges PCB-Design"><img src="images/pcbv2.png" class="img-fluid figure-img" style="width:90.0%"></a></p>
<figcaption>Fertiges PCB-Design</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/platine.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-23" title="Fertige PCB"><img src="images/platine.jpg" class="img-fluid figure-img" style="width:90.0%"></a></p>
<figcaption>Fertige PCB</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;22: Fertige Bi-Quad Filter Platine
</figcaption>
</figure>
</div>
</section>
<section id="zusammenfassung-und-ausblick" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="zusammenfassung-und-ausblick">Zusammenfassung und Ausblick</h3>
<p>Mit diesem PCB-Design haben wir eine kompakte, reproduzierbare Plattform geschaffen, um Biquad-Filter mit variabler Güte und Eckfrequenz zu charakterisieren und bei Bedarf um eine Butterworth-Stufe 3. Ordnung zu ergänzen. Für künftige Revisionen empfehlen sich:<br>
- Vollständige Beschriftung aller Werte auf der Platine<br>
- Einheitliche Testpoints für Ein-/Ausgang und GND<br>
- Integration von SMD-Schaltern statt Jumpern</p>
<p>Damit wird die Platine für die Lehrzwecke gut geeignet.</p>
</section>
</section>
<section id="messungen-an-der-pcb-schaltung" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="messungen-an-der-pcb-schaltung"><span class="header-section-number">6.2</span> Messungen an der PCB-Schaltung</h2>
<p>Im Anschluss an das Layout und die Fertigung der Platine wurden die Übertragungs­funktionen aller Filterausgänge mit dem Red Pitaya Mess­system aufgenommen. Die Signale wurden über einen Frequenz­sweep für verschiedene Frequenzen eingespeist und die Amplituden- sowie Phasengänge mit einem eigens entwickelten Python-Skript ausgewertet und geplottet.</p>
</section>
<section id="vergleich-diskret-vs.-pcb" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="vergleich-diskret-vs.-pcb">Vergleich: Diskret vs.&nbsp;PCB</h2>
<p>Im Folgenden sind die Bode-Diagramme der diskreten Versuchsaufbauten (auf dem ASLK PRO Board mit Jumperkabeln) gegenüber den Messergebnissen der fertigen PCB-Schaltung dargestellt. Dieser Vergleich zeigt, inwieweit das PCB-Layout die Filtercharakteristik stabilisiert.</p>
<section id="für-q-1-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="für-q-1-1">Für (Q = 1)</h3>
</section>
<section id="bandpass-2" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bandpass-2">-Bandpass</h3>
<div id="fig-pcbrealbpf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbrealbpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_real_vergleich/Q1/Bandpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24" title="Abbildung&nbsp;23: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Bandpassfilters für (Q = 1)."><img src="platine_real_vergleich/Q1/Bandpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbrealbpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;23: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Bandpassfilters für (Q = 1).
</figcaption>
</figure>
</div>
<p>Die PCB-Messung liefert einen klar definierten Resonanzpeak mit sehr gleichmäßigen Flanken. Die diskrete Variante zeigt den Peak geringfügig verschoben und weist an den Flanken kleine Unregelmäßigkeiten auf, wodurch der Verlauf etwas unschärfer erscheint.</p>
</section>
<section id="bandstop-2" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bandstop-2">-Bandstop</h3>
<div id="fig-pcbrealbsf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbrealbsf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_real_vergleich/Q1/Bandstop.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25" title="Abbildung&nbsp;24: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Bandstopfilters für (Q = 1)."><img src="platine_real_vergleich/Q1/Bandstop.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbrealbsf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;24: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Bandstopfilters für (Q = 1).
</figcaption>
</figure>
</div>
<p>Der Bandsperre-Einbruch auf der Platine verläuft besonders tief und mit flachen, sauberen Flanken. Im diskreten Aufbau ist die Dämpfung ähnlich, jedoch treten an den Randbereichen leichte Sprünge und kleine Unebenheiten auf.</p>
</section>
<section id="hochpass-2" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="hochpass-2">-Hochpass</h3>
<div id="fig-pcbrealhpf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbrealhpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_real_vergleich/Q1/Hochpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26" title="Abbildung&nbsp;25: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Hochpassfilters für (Q = 1)."><img src="platine_real_vergleich/Q1/Hochpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbrealhpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;25: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Hochpassfilters für (Q = 1).
</figcaption>
</figure>
</div>
<p>Der Hochpass auf der PCB steigt bis zur Eckfrequenz ohne Störungen an und fällt danach konstant mit –20 dB/Dekade ab. Der diskrete Versuchsaufbau hinkt diesem Anstieg minimal hinterher und zeigt punktuelle Ausreißer bei etwa 50 Hz und 100 Hz.</p>
</section>
<section id="tiefpass-2" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="tiefpass-2">-Tiefpass</h3>
<div id="fig-pcbrealtpf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbrealtpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_real_vergleich/Q1/Tiefpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27" title="Abbildung&nbsp;26: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Tiefpassfilters für (Q = 1)."><img src="platine_real_vergleich/Q1/Tiefpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbrealtpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;26: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Tiefpassfilters für (Q = 1).
</figcaption>
</figure>
</div>
<p>Beim Tiefpass fällt die PCB-Kurve bis zur Eckfrequenz ideal flach ab und nimmt dann homogen –40 dB/Dekade an. Die diskrete Schaltung weist um die Eckfrequenz ein leichtes Überschwingen und vereinzelt kleine Unebenheiten im Sperrbereich auf.</p>
<hr>
</section>
<section id="für-q-10-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="für-q-10-1">Für (Q = 10)</h3>
</section>
<section id="bandpass-3" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bandpass-3">-Bandpass</h3>
<div id="fig-pcbrealbpf10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbrealbpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_real_vergleich/Q10/Bandpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28" title="Abbildung&nbsp;27: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Bandpassfilters für (Q = 10)."><img src="platine_real_vergleich/Q10/Bandpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbrealbpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;27: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Bandpassfilters für (Q = 10).
</figcaption>
</figure>
</div>
<p>Der starke Resonanzpeak der Platine ist deutlich ausgeprägt, jedoch sehr gleichmäßig. Im diskreten Aufbau fällt der Peak minimal höher aus, wirkt aber an der Spitze etwas unruhig und leicht gezackt.</p>
</section>
<section id="bandstop-3" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bandstop-3">-Bandstop</h3>
<div id="fig-pcbrealbsf10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbrealbsf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_real_vergleich/Q10/Bandstop.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29" title="Abbildung&nbsp;28: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Bandstopfilters für (Q = 10)."><img src="platine_real_vergleich/Q10/Bandstop.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbrealbsf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;28: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Bandstopfilters für (Q = 10).
</figcaption>
</figure>
</div>
<p>Bei der Bandsperre ist der Einbruch auf der PCB geringfügig flacher, dafür allerdings äußerst stabil und glatt. Die diskrete Kurve erreicht eine etwas tiefere Dämpfung, zeigt jedoch in der Nähe des Einbruchs leichte Unregelmäßigkeiten.</p>
</section>
<section id="hochpass-3" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="hochpass-3">-Hochpass</h3>
<div id="fig-pcbrealhpf10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbrealhpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_real_vergleich/Q10/Hochpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-30" title="Abbildung&nbsp;29: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Hochpassfilters für (Q = 10)."><img src="platine_real_vergleich/Q10/Hochpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbrealhpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;29: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Hochpassfilters für (Q = 10).
</figcaption>
</figure>
</div>
<p>Im Hochpassbereich tritt die PCB-Resonanzspitze leicht verzögert auf, bleibt dabei aber sehr sauber. Die diskrete Schaltung erreicht die Spitze ein wenig früher, ist dabei jedoch im Anstieg geringfügig weniger gleichmäßig.</p>
</section>
<section id="tiefpass-3" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="tiefpass-3">-Tiefpass</h3>
<div id="fig-pcbrealtpf10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbrealtpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_real_vergleich/Q10/Tiefpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-31" title="Abbildung&nbsp;30: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Tiefpassfilters für (Q = 10)."><img src="platine_real_vergleich/Q10/Tiefpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbrealtpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;30: Bode-Plot Vergleich des auf dem Board- und des auf dem PCB Tiefpassfilters für (Q = 10).
</figcaption>
</figure>
</div>
<p>Der Tiefpass auf der Platine bildet den Peak etwas nachlaufend und etwas flacher als die Simulation ab. Der diskrete Aufbau zeigt einen schärferen, früheren Peak, dessen Flanken an einzelnen Frequenzen kleine Sprünge aufweisen.</p>
</section>
<section id="diskussion-der-ergebnisse" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="diskussion-der-ergebnisse">Diskussion der Ergebnisse:</h3>
<p>Beim Vergleich der Bode-Diagramme (rote Kurven = diskret, blaue = PCB) ergeben sich folgende allgemeine Beobachtungen:</p>
<ul>
<li><strong>Amplitude-Verschiebung</strong>
<ul>
<li>Für (Q=1) liegt die PCB-Amplitude tendenziell leicht vor (Vorsprung um wenige Hertz) gegenüber dem diskreten Aufbau.<br>
</li>
<li>Für (Q=10) zeigt die PCB eine kleine Verzögerung (nachlaufender Peak) um wenige Hertz.<br>
</li>
</ul></li>
<li><strong>Kurvenglätte</strong><br>
Die PCB-Daten verlaufen insgesamt glatter. Die im Diskret-Aufbau auftretenden kleinen Ausreißer entfallen, da das PCB parasitäre Effekte reduziert.<br>
</li>
<li><strong>Sampling-Artefakte</strong><br>
An einigen Stellen wirken die Kurven „eckig“ – hier lagen zu wenige Messpunkte vor, was die Interpolation weniger stufenlos erscheinen lässt.</li>
</ul>
<hr>
</section>
</section>
<section id="vergleich-ideal-vs.-pcb" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="vergleich-ideal-vs.-pcb">Vergleich: Ideal vs.&nbsp;PCB</h2>
<section id="für-q1-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="für-q1-1">Für <span class="math inline">\(Q=1\)</span></h3>
<!--
::: {layout-nrow=2}
![Bandpass](platine_real_vergleich\Q1\Bandpass.png){#fig-pcbsimbpf1 width=100%}

![Bandstop](platine_real_vergleich\Q1\Bandstop.png){#fig-pcbsimbpf2 width=100%}

![Hochpass](platine_real_vergleich\Q1\Hochpass.png){#fig-pcbsimbpf3 width=100%}

![Tiefpass](platine_real_vergleich\Q1\Tiefpass.png){#fig-pcbsimbpf4 width=100%}
:::
-->
</section>
<section id="bandpass-4" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bandpass-4">-Bandpass</h3>
<div id="fig-pcbsimbpf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbsimbpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_sim_vergleich\Q1\Bandpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-32" title="Abbildung&nbsp;31: Bode-Plot Vergleich des simulierten- und des auf dem PCB Bandpassfilters für Q = 1."><img src="platine_sim_vergleich\Q1\Bandpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbsimbpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;31: Bode-Plot Vergleich des simulierten- und des auf dem PCB Bandpassfilters für <span class="math inline">\(Q = 1\)</span>.
</figcaption>
</figure>
</div>
<p>Die gemessene PCB-Kurve folgt der Simulation nahezu perfekt. Resonanzfrequenz und Peak-Amplitude stimmen überein, die PCB zeigt nur minimale Glättungsdifferenzen im Flankenbereich.</p>
</section>
<section id="bandstop-4" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bandstop-4">-Bandstop</h3>
<div id="fig-pcbsimbsf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbsimbsf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_sim_vergleich\Q1\Bandstop.png" class="lightbox" data-gallery="quarto-lightbox-gallery-33" title="Abbildung&nbsp;32: Bode-Plot Vergleich des simulierten- und des auf dem PCB Bandstopfilters für Q = 1."><img src="platine_sim_vergleich\Q1\Bandstop.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbsimbsf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;32: Bode-Plot Vergleich des simulierten- und des auf dem PCB Bandstopfilters für <span class="math inline">\(Q = 1\)</span>.
</figcaption>
</figure>
</div>
<p>Simulation und Platine liegen im Sperrbereich deckungsgleich. Der Einbruchstiefpunkt und die Flankensteilheit stimmen fast überein.</p>
</section>
<section id="hochpass-4" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="hochpass-4">-Hochpass</h3>
<div id="fig-pcbsimhpf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbsimhpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_sim_vergleich\Q1\Hochpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-34" title="Abbildung&nbsp;33: Bode-Plot Vergleich des simulierten- und des auf dem PCB Hochpassfilters für Q = 1."><img src="platine_sim_vergleich\Q1\Hochpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbsimhpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;33: Bode-Plot Vergleich des simulierten- und des auf dem PCB Hochpassfilters für <span class="math inline">\(Q = 1\)</span>.
</figcaption>
</figure>
</div>
<p>Die Amplitude und Phase der PCB fallen identisch zu den simulierten Kennlinien ab. Lediglich im sehr hohen Frequenzbereich (&lt; 1 dB Abweichung) ist die PCB-Zeitkonstante leicht weicher.</p>
</section>
<section id="tiefpass-4" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="tiefpass-4">-Tiefpass</h3>
<div id="fig-pcbsimtpf1" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbsimtpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_sim_vergleich\Q1\Tiefpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-35" title="Abbildung&nbsp;34: Bode-Plot Vergleich des simulierten- und des auf dem PCB Tiefpassfilters für Q = 1."><img src="platine_sim_vergleich\Q1\Tiefpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbsimtpf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;34: Bode-Plot Vergleich des simulierten- und des auf dem PCB Tiefpassfilters für <span class="math inline">\(Q = 1\)</span>.
</figcaption>
</figure>
</div>
<p>Auch hier liegen Messung und Simulation fast auf demselben Verlauf. Der kleine Peak um die Eckfrequenz zeigt sich auf der Platine ebenso deutlich und mit derselben Steilheit.</p>
</section>
<section id="für-q10-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="für-q10-1">Für <span class="math inline">\(Q=10\)</span></h3>
</section>
<section id="bandpass-5" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bandpass-5">-Bandpass</h3>
<div id="fig-pcbsimbpf10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbsimbpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_sim_vergleich\Q10\Bandpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-36" title="Abbildung&nbsp;35: Bode-Plot Vergleich des simulierten- und des auf dem PCB Bandpassfilters für Q = 10."><img src="platine_sim_vergleich\Q10\Bandpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbsimbpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;35: Bode-Plot Vergleich des simulierten- und des auf dem PCB Bandpassfilters für <span class="math inline">\(Q = 10\)</span>.
</figcaption>
</figure>
</div>
<p>Bei der Simulation liegt der Resonanzpeak etwas schärfer und minimal später, während die PCB-Messung einen etwas flacheren, leicht vorgezogenen Peak zeigt. Die Bandbreite ist sehr vergleichbar, die PCB-Kurve wirkt insgesamt glatter.</p>
</section>
<section id="bandstop-5" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="bandstop-5">-Bandstop</h3>
<div id="fig-pcbsimbsf10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbsimbsf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_sim_vergleich\Q10\Bandstop.png" class="lightbox" data-gallery="quarto-lightbox-gallery-37" title="Abbildung&nbsp;36: Bode-Plot Vergleich des simulierten- und des auf dem PCB Bandstopfilters für Q = 10."><img src="platine_sim_vergleich\Q10\Bandstop.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbsimbsf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;36: Bode-Plot Vergleich des simulierten- und des auf dem PCB Bandstopfilters für <span class="math inline">\(Q = 10\)</span>.
</figcaption>
</figure>
</div>
<p>Der tiefe Einschnitt der Simulation erscheint stärker. Die PCB-Kurve weist einen flacheren Verlauf auf, was auf die begrenzte Messpunktdichte zurückzuführen sein kann. Es ist anzunehmen, dass die Kurve bei einer höheren Anzahl an Messpunkten auch bei PCB tiefer verlaufen würde.</p>
</section>
<section id="hochpass-5" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="hochpass-5">-Hochpass</h3>
<div id="fig-pcbsimhpf10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbsimhpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_sim_vergleich\Q10\Hochpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-38" title="Abbildung&nbsp;37: Bode-Plot Vergleich des simulierten- und des auf dem PCB Hochpassfilters für Q = 10."><img src="platine_sim_vergleich\Q10\Hochpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbsimhpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;37: Bode-Plot Vergleich des simulierten- und des auf dem PCB Hochpassfilters für <span class="math inline">\(Q = 10\)</span>.
</figcaption>
</figure>
</div>
<p>In der Simulation führt der Hochpass-Peak knapp vor der Eckfrequenz zu einer leicht ausgeprägteren Spitze; die PCB-Messung eilt ihr minimal hinterher. Im Sperrbereich verläuft die PCB-Kurve etwas ruhiger.</p>
</section>
<section id="tiefpass-5" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="tiefpass-5">-Tiefpass</h3>
<div id="fig-pcbsimtpf10" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pcbsimtpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="platine_sim_vergleich\Q10\Tiefpass.png" class="lightbox" data-gallery="quarto-lightbox-gallery-39" title="Abbildung&nbsp;38: Bode-Plot Vergleich des simulierten- und des auf dem PCB Tiefpassfilters für Q = 10."><img src="platine_sim_vergleich\Q10\Tiefpass.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pcbsimtpf10-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Abbildung&nbsp;38: Bode-Plot Vergleich des simulierten- und des auf dem PCB Tiefpassfilters für <span class="math inline">\(Q = 10\)</span>.
</figcaption>
</figure>
</div>
<p>Auch beim Tiefpass findet sich in der Simulation ein etwas ausgeprägteres Peak-Overshoot, während die PCB-Messung den Peak minimal verzögert wiedergibt. Die Abfallflanke ist auf beiden Kurven nahezu identisch.</p>
<p><strong>Allgemeine Beobachtung:</strong><br>
Die PCB-Messdaten folgen dem idealen Simulationsverlauf sehr eng, lediglich kleine Frequenzverschiebungen und glattere Flanken auf der Platine fallen auf. Die geringere Tiefe im Bandsperr-Einschnitt und der leicht vor- bzw. nachlaufende Resonanzpeak sind wahrscheinlich auf die endliche Anzahl von Messpunkten und minimale Layout-Parasitär­effekte zurückzuführen.</p>
</section>
</section>
</section>
<section id="fazit-und-ausblick" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Fazit und Ausblick</h1>
<p>Hier schreiben wir Fazit von dem Experiment</p>
<p>Was ist rausgekommen? Was lief gut, wo gab’s Schwierigkeiten? Was könnte man als Nächstes machen?</p>
</section>
<section id="literaturverzeichnis" class="level1 unnumbered">
<h1 class="unnumbered">Literaturverzeichnis</h1>
<div id="refs" class="references csl-bib-body" data-entry-spacing="0" role="list">
<div id="ref-FILTERS07" class="csl-entry" role="listitem">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline">J. O. Smith, <em>Introduction to Digital Filters with Audio Applications</em>. : W3K Publishing, 2007.</div>
</div>
<div id="ref-lecture20" class="csl-entry" role="listitem">
<div class="csl-left-margin">[2] </div><div class="csl-right-inline">M. Meiners, <span>„Analoge Filter Design“</span>. Vorlesungsskript: Lecture-20, Hochschule Bremen, 2025.</div>
</div>
<div id="ref-reisch2007" class="csl-entry" role="listitem">
<div class="csl-left-margin">[3] </div><div class="csl-right-inline">M. Reisch, <em>Elektronische Bauelemente</em>. Springer, 2007.</div>
</div>
</div>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Fußnoten</h2>

<ol>
<li id="fn1"><p>aslk pro manual exp 4<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>aslk pro manual exp 4<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Kicad 9.0 Filterentwurf<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>aslk pro manual exp 4<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Kopiert");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Kopiert");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>