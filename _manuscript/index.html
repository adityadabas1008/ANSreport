<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Aditya Dabas (5230565)">
<meta name="author" content="Mohamad Wehbi (5235487)">
<meta name="author" content="Adrian Jauch (5178618)">

<title>Entwurf und PCB Design eines universellen Biquad Filters</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-6e5ff12f349f7d7ee99023e5a7f49be9.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">


<meta name="citation_title" content="Entwurf und PCB Design eines universellen Biquad Filters">
<meta name="citation_abstract" content="Lorem ipsum
">
<meta name="citation_author" content="Aditya Dabas (5230565)">
<meta name="citation_author" content="Mohamad Wehbi (5235487)">
<meta name="citation_author" content="Adrian Jauch (5178618)">
<meta name="citation_publication_date" content="2025-07-18">
<meta name="citation_cover_date" content="2025-07-18">
<meta name="citation_year" content="2025">
<meta name="citation_online_date" content="2025-07-18">
<meta name="citation_language" content="de">
<meta name="citation_reference" content="citation_title=CMOS: Circuit design, layout, and simulation;,citation_author=R. Jacob Baker;,citation_publication_date=2010-10;,citation_cover_date=2010-10;,citation_year=2010;,citation_doi=10.1002/9780470891179;,citation_isbn=9780470891179;">
<meta name="citation_reference" content="citation_title=CMOSedu;,citation_author=R. Jacob Baker;,citation_publication_date=2015;,citation_cover_date=2015;,citation_year=2015;,citation_fulltext_html_url=http://www.cmosedu.com;,citation_publisher=Website;">
<meta name="citation_reference" content="citation_title=Switch-mode power supplies: SPICE simulations and practical designs;,citation_author=Christophe P. Basso;,citation_publication_date=2008;,citation_cover_date=2008;,citation_year=2008;,citation_isbn=9780071508582;,citation_series_title=Electronic engineering;">
<meta name="citation_reference" content="citation_title=Op amps for everyone;,citation_author=Bruce Carter;,citation_publication_date=2013;,citation_cover_date=2013;,citation_year=2013;,citation_fulltext_html_url=http://www.sciencedirect.com/science/article/pii/B9780123914958000015;,citation_doi=10.1016/B978-0-12-391495-8.00001-5;,citation_isbn=978-0-12-391495-8;">
<meta name="citation_reference" content="citation_title=Open-source design of integrated circuits: Ein quelloffener 1,44-MS/s 703-μW 12-bit nichtbinärer SAR-ADC mit 448-aF kondensatoren in einem 130-nm CMOS-prozess;,citation_author=Patrick Fath;,citation_author=Manuel Moser;,citation_author=Georg Zachl;,citation_author=Harald Pretl;,citation_publication_date=2024-01;,citation_cover_date=2024-01;,citation_year=2024;,citation_issue=1;,citation_doi=10.1007/s00502-023-01195-5;,citation_issn=1613-7620;,citation_volume=141;,citation_journal_title=Elektrotechnik und Informationstechnik;,citation_publisher=Springer Science; Business Media LLC;">
<meta name="citation_reference" content="citation_title=Tiny Tapeout hit as eFabless closes;,citation_author=Nick Flaherty;,citation_publication_date=2025-03;,citation_cover_date=2025-03;,citation_year=2025;,citation_fulltext_html_url=https://www.eenewseurope.com/en/tiny-tapeout-hit-as-efabless-closes/;,citation_journal_title=eeNews EUROPE;">
<meta name="citation_reference" content="citation_title=Fundamentals of layout design for electronic circuits;,citation_author=Jens Lienig;,citation_author=Juergen Scheible;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_doi=10.1007/978-3-030-39284-0;,citation_isbn=9783030392840;">
<meta name="citation_reference" content="citation_title=Grundlagen des layoutentwurfs elektronischer schaltungen;,citation_author=Jens Lienig;,citation_author=Jürgen Scheible;,citation_publication_date=2023;,citation_cover_date=2023;,citation_year=2023;,citation_doi=10.1007/978-3-031-15768-4;,citation_isbn=9783031157684;">
<meta name="citation_reference" content="citation_title=Op amps for everyone;,citation_author=Ron Mancini;,citation_publication_date=2002-08;,citation_cover_date=2002-08;,citation_year=2002;,citation_fulltext_html_url=https://web.mit.edu/6.101/www/reference/op_amps_everyone.pdf;,citation_technical_report_institution=Texas Instruments Incorporation;,citation_technical_report_number=SLOD006B;">
<meta name="citation_reference" content="citation_title=Leistungselektronik: Einführung in schaltungen und deren verhalten;,citation_author=Manfred Michel;,citation_publication_date=2011;,citation_cover_date=2011;,citation_year=2011;,citation_doi=10.1007/978-3-642-15984-8;,citation_isbn=978-3-642-15983-1;">
<meta name="citation_reference" content="citation_title=Analog Circuit Design;,citation_author=Harald Pretl;,citation_author=Michael Koefinger;,citation_author=Simon Dorrer;,citation_publication_date=2024-12;,citation_cover_date=2024-12;,citation_year=2024;,citation_fulltext_html_url=https://iic-jku.github.io/analog-circuit-design;,citation_doi=10.5281/zenodo.14387481;,citation_language=en-us;">
<meta name="citation_reference" content="citation_title=GitHub repository of the IIC-OSIC-TOOLS;,citation_author=Harald Pretl;,citation_author=Georg Zachl;,citation_publication_date=2025-01;,citation_cover_date=2025-01;,citation_year=2025;,citation_fulltext_html_url=https://github.com/iic-jku/IIC-OSIC-TOOLS;,citation_doi=10.5281/zenodo.14634518;,citation_publisher=Zenodo;">
<meta name="citation_reference" content="citation_title=From code to chip: Open-source automated analog layout design;,citation_author=Jakob Ratschenberger;,citation_author=Harald Pretl;,citation_publication_date=2025;,citation_cover_date=2025;,citation_year=2025;,citation_doi=10.1007/978-3-031-68562-0;,citation_isbn=9783031685620;,citation_issn=2690-0327;,citation_book_title=Synthesis Lectures on Engineering, Science, and Technology;,citation_series_title=Synthesis lectures on engineering, science, and technology;">
<meta name="citation_reference" content="citation_title=Schaltnetzteile und ihre peripherie: Dimensionierung, einsatz, EMV;,citation_author=Ulrich Schlienz;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_doi=10.1007/978-3-658-29490-8;,citation_isbn=9783658294908;">
<meta name="citation_reference" content="citation_title=Leistungselektronische schaltungen;,citation_editor=Dierk Schröder;,citation_editor=Rainer Marquardt;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_doi=10.1007/978-3-662-55325-1;">
<meta name="citation_reference" content="citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_issue=2;,citation_doi=10.1109/mssc.2024.3400568;,citation_issn=1943-0590;,citation_volume=16;,citation_journal_title=IEEE Solid-State Circuits Magazine;,citation_publisher=Institute of Electrical; Electronics Engineers (IEEE);">
<meta name="citation_reference" content="citation_title=Analog building blocks of dc-dc converters: Examining fundamental concepts;,citation_author=Bernhard Wicht;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_issue=3;,citation_doi=10.1109/mssc.2020.3002141;,citation_volume=12;,citation_journal_title=IEEE Solid-State Circuits Magazine;,citation_publisher=institution of Electrical; Electronics Engineers (IEEE);">
<meta name="citation_reference" content="citation_title=Design of power management integrated circuits;,citation_author=Bernhard Wicht;,citation_publication_date=2024-05;,citation_cover_date=2024-05;,citation_year=2024;,citation_doi=10.1002/9781119123095;,citation_isbn=9781119123095;">
<meta name="citation_reference" content="citation_title=Introduction to digital filters with audio applications;,citation_author=Julius O. Smith;,citation_publication_date=2007;,citation_cover_date=2007;,citation_year=2007;,citation_isbn=978-0-9745607-1-7;">
</head>

<body class="quarto-light">

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Entwurf und PCB Design eines universellen Biquad Filters</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Autor:innen</div>
          <div class="quarto-title-meta-heading">Zugehörigkeit</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Aditya Dabas (5230565) <a href="mailto:adabas@stud.hs-bremen.de" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0009-0001-5679-9910" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
          </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Mohamad Wehbi (5235487) <a href="mailto:mwehbi@stud.hs-bremen.de" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Adrian Jauch (5178618) <a href="mailto:ajauch@stud.hs-bremen.de" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        <a href="https://www.hs-bremen.de">
                        Hochschule Bremen - City University of Applied Sciences (HSB)
                        </a>
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
                <div>
            <div class="quarto-title-meta-heading">Veröffentlichungsdatum</div>
            <div class="quarto-title-meta-contents">
              <p class="date">18. Juli 2025</p>
            </div>
          </div>
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      </div>
    </div>

    <div>
      <div class="abstract">
        <div class="block-title">Zusammenfassung</div>
        <p>Lorem ipsum</p>
      </div>
    </div>


    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#motivation" id="toc-motivation" class="nav-link active" data-scroll-target="#motivation"><span class="header-section-number">1</span> Motivation</a></li>
  <li><a href="#theoretischer-hintergrund" id="toc-theoretischer-hintergrund" class="nav-link" data-scroll-target="#theoretischer-hintergrund"><span class="header-section-number">2</span> Theoretischer Hintergrund</a>
  <ul class="collapse">
  <li><a href="#grundlagen-zu-analogen-filtern" id="toc-grundlagen-zu-analogen-filtern" class="nav-link" data-scroll-target="#grundlagen-zu-analogen-filtern"><span class="header-section-number">2.1</span> Grundlagen zu analogen Filtern</a>
  <ul class="collapse">
  <li><a href="#übertragungsfunktionen-und-verschiedene-filtertypen" id="toc-übertragungsfunktionen-und-verschiedene-filtertypen" class="nav-link" data-scroll-target="#übertragungsfunktionen-und-verschiedene-filtertypen">Übertragungsfunktionen und verschiedene Filtertypen</a></li>
  </ul></li>
  <li><a href="#anti-aliasiing-filter" id="toc-anti-aliasiing-filter" class="nav-link" data-scroll-target="#anti-aliasiing-filter"><span class="header-section-number">2.2</span> Anti Aliasiing Filter</a></li>
  <li><a href="#grundlagen-biquad-filter" id="toc-grundlagen-biquad-filter" class="nav-link" data-scroll-target="#grundlagen-biquad-filter"><span class="header-section-number">2.3</span> Grundlagen Biquad-Filter</a></li>
  <li><a href="#gütefaktor-q-und-einfluss" id="toc-gütefaktor-q-und-einfluss" class="nav-link" data-scroll-target="#gütefaktor-q-und-einfluss"><span class="header-section-number">2.4</span> Gütefaktor Q und Einfluss</a></li>
  </ul></li>
  <li><a href="#schaltungsentwurf-des-biquad-filters" id="toc-schaltungsentwurf-des-biquad-filters" class="nav-link" data-scroll-target="#schaltungsentwurf-des-biquad-filters"><span class="header-section-number">3</span> Schaltungsentwurf des Biquad-Filters</a>
  <ul class="collapse">
  <li><a href="#universeller-aktiver-filter-2.-ordnung" id="toc-universeller-aktiver-filter-2.-ordnung" class="nav-link" data-scroll-target="#universeller-aktiver-filter-2.-ordnung"><span class="header-section-number">3.1</span> Universeller aktiver Filter 2. Ordnung</a>
  <ul class="collapse">
  <li><a href="#auswahl-und-berechnung-der-bauteile" id="toc-auswahl-und-berechnung-der-bauteile" class="nav-link" data-scroll-target="#auswahl-und-berechnung-der-bauteile">Auswahl und Berechnung der Bauteile</a></li>
  </ul></li>
  <li><a href="#simulation-und-aufbau" id="toc-simulation-und-aufbau" class="nav-link" data-scroll-target="#simulation-und-aufbau"><span class="header-section-number">3.2</span> Simulation und Aufbau</a>
  <ul class="collapse">
  <li><a href="#simulation-der-schaltung-kicad" id="toc-simulation-der-schaltung-kicad" class="nav-link" data-scroll-target="#simulation-der-schaltung-kicad">Simulation der Schaltung (KiCad)</a></li>
  <li><a href="#aufbau-auf-dem-aslk-pro-board" id="toc-aufbau-auf-dem-aslk-pro-board" class="nav-link" data-scroll-target="#aufbau-auf-dem-aslk-pro-board">Aufbau auf dem ASLK PRO Board</a></li>
  </ul></li>
  <li><a href="#butterworth-3.-ordnung-entwurf-und-erweiterung" id="toc-butterworth-3.-ordnung-entwurf-und-erweiterung" class="nav-link" data-scroll-target="#butterworth-3.-ordnung-entwurf-und-erweiterung"><span class="header-section-number">3.3</span> Butterworth 3. Ordnung: Entwurf und Erweiterung</a>
  <ul class="collapse">
  <li><a href="#herleitung-der-übertragungsfunktion" id="toc-herleitung-der-übertragungsfunktion" class="nav-link" data-scroll-target="#herleitung-der-übertragungsfunktion">Herleitung der Übertragungsfunktion</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#charakterisierung" id="toc-charakterisierung" class="nav-link" data-scroll-target="#charakterisierung"><span class="header-section-number">4</span> Charakterisierung</a>
  <ul class="collapse">
  <li><a href="#problem-name" id="toc-problem-name" class="nav-link" data-scroll-target="#problem-name">Problem Name</a></li>
  <li><a href="#problem-name-1" id="toc-problem-name-1" class="nav-link" data-scroll-target="#problem-name-1">Problem Name</a></li>
  </ul></li>
  <li><a href="#messung-und-analyse" id="toc-messung-und-analyse" class="nav-link" data-scroll-target="#messung-und-analyse"><span class="header-section-number">5</span> Messung und Analyse</a>
  <ul class="collapse">
  <li><a href="#messungsschritte" id="toc-messungsschritte" class="nav-link" data-scroll-target="#messungsschritte">Messungsschritte</a></li>
  <li><a href="#vergleich-simulation-vs.-diskret" id="toc-vergleich-simulation-vs.-diskret" class="nav-link" data-scroll-target="#vergleich-simulation-vs.-diskret"><span class="header-section-number">5.1</span> Vergleich Simulation vs.&nbsp;Diskret</a></li>
  <li><a href="#interpretation-der-messergebnisse" id="toc-interpretation-der-messergebnisse" class="nav-link" data-scroll-target="#interpretation-der-messergebnisse"><span class="header-section-number">5.2</span> Interpretation der Messergebnisse</a></li>
  </ul></li>
  <li><a href="#umsetzung-als-leiterplatte" id="toc-umsetzung-als-leiterplatte" class="nav-link" data-scroll-target="#umsetzung-als-leiterplatte"><span class="header-section-number">6</span> Umsetzung als Leiterplatte</a>
  <ul class="collapse">
  <li><a href="#vorgehensweise-im-layoutprozess" id="toc-vorgehensweise-im-layoutprozess" class="nav-link" data-scroll-target="#vorgehensweise-im-layoutprozess"><span class="header-section-number">6.1</span> Vorgehensweise im Layoutprozess</a></li>
  <li><a href="#messungen-an-der-pcb-schaltung" id="toc-messungen-an-der-pcb-schaltung" class="nav-link" data-scroll-target="#messungen-an-der-pcb-schaltung"><span class="header-section-number">6.2</span> Messungen an der PCB-Schaltung</a></li>
  <li><a href="#vergleich-der-ergebnisse" id="toc-vergleich-der-ergebnisse" class="nav-link" data-scroll-target="#vergleich-der-ergebnisse"><span class="header-section-number">6.3</span> Vergleich der Ergebnisse:</a></li>
  <li><a href="#vergleich-diskret-vs.-pcb" id="toc-vergleich-diskret-vs.-pcb" class="nav-link" data-scroll-target="#vergleich-diskret-vs.-pcb">Vergleich: Diskret vs.&nbsp;PCB</a></li>
  <li><a href="#vergleich-ideal-vs.-pcb" id="toc-vergleich-ideal-vs.-pcb" class="nav-link" data-scroll-target="#vergleich-ideal-vs.-pcb">Vergleich: Ideal vs.&nbsp;PCB</a></li>
  </ul></li>
  <li><a href="#fazit-und-ausblick" id="toc-fazit-und-ausblick" class="nav-link" data-scroll-target="#fazit-und-ausblick"><span class="header-section-number">7</span> Fazit und Ausblick</a></li>
  <li><a href="#literaturverzeichnis" id="toc-literaturverzeichnis" class="nav-link" data-scroll-target="#literaturverzeichnis">Literaturverzeichnis</a></li>
  </ul>
<div class="quarto-alternate-notebooks"><h2>Notebooks</h2><ul><li><a href="content\references-preview.html"><i class="bi bi-journal-code"></i>Literaturverzeichnis</a></li></ul></div></nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">



  


<section id="motivation" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Motivation</h1>
<p>In der Nachrichtentechnik sind Filter unverzichtbar. Insbesondere leistungsfähige, höhergradige Filter stoßen bei passiven RLC-Netzwerken jedoch schnell an ihre Grenzen: Spulen werden dabei sehr groß und teuer. Aufgrund ihrer Fertigungstoleranzen sind sie außerdem oft unzuverlässig bzw. nicht für präzise Filteranwendungen geeignet. Aktive Filter auf Basis von Operationsverstärkern, Kondensatoren und Widerständen bieten hier klare Vorteile, da sich ihre Bauteilwerte einfacher und präziser herstellen und bestimmen lassen. Spulen lassen sich dabei durch Integratorschaltungen ersetzen.</p>
<p>Für das vorliegende Projekt greifen wir gezielt auf die Lerninhalte aus der Systemtheorie (Herleitung und Interpretation von Übertragungsfunktionen), der Elektronik (Verhalten von Operationsverstärkern als Integratoren und Addierer) und der digitalen Signalverarbeitung (Eigenschaften von Butterworth-, Tschebyscheff- und elliptischen Filtern) zurück. <strong>So entsteht eine modulare Biquad-Schaltung, die alle vier Filtercharakteristiken auf einer Platine vereint</strong> und zugleich durch eine zusätzliche Integrator-Stufe ein Butterworth-Filter höherer Ordnung realisiert. Diese durchgängige Lösung vermittelt sowohl theoretische Grundlagen als auch den kompletten Hardware-Design-Prozess – von der Simulation bis zur fertigen Leiterplatte – auf praxisnahe Weise.</p>
<p>Unser Biquad-Filterentwurf präsentiert sich in folgender Ausführung:</p>
<div id="fig:pcb">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><a href="images/platine.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Abbildung: 1 Fertige Leiterplatte mit universellem Biquad-Filterentwurf."><img src="images/platine.jpg" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:70.0%" alt="Abbildung: 1 Fertige Leiterplatte mit universellem Biquad-Filterentwurf."></a></p>
</figure>
</div>
<figcaption><strong><em>Abbildung: 1</em></strong> Fertige Leiterplatte mit universellem Biquad-Filterentwurf.</figcaption>
</figure>
</div>
</div>
<p>Im Folgenden werden das Verfahren, mit dem wir dieses Design entwickelt haben, sowie das zugrundeliegende Lernkonzept ausführlich dargestellt.</p>
</section>
<section id="theoretischer-hintergrund" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Theoretischer Hintergrund</h1>
<section id="grundlagen-zu-analogen-filtern" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="grundlagen-zu-analogen-filtern"><span class="header-section-number">2.1</span> Grundlagen zu analogen Filtern</h2>
<p><span class="citation" data-cites="Adrian">(<a href="#ref-Adrian" role="doc-biblioref"><strong>Adrian?</strong></a>)</span></p>
<p>Hier Theorie erklären, aber locker schreiben</p>
<p>wie</p>
<ol type="1">
<li>Anti Aliasing Fliter</li>
<li>Filter entwurf mit RLC Glied, TP, HP, BP –nicht berichten</li>
<li>Einführung in die Biquads</li>
<li>Güte Faktor</li>
</ol>
<section id="übertragungsfunktionen-und-verschiedene-filtertypen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="übertragungsfunktionen-und-verschiedene-filtertypen">Übertragungsfunktionen und verschiedene Filtertypen</h3>
</section>
</section>
<section id="anti-aliasiing-filter" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="anti-aliasiing-filter"><span class="header-section-number">2.2</span> Anti Aliasiing Filter</h2>
<p>Analog zu Digital usw Anti-Aliasing-Filter: Wozu braucht man die?</p>
<p><span class="citation" data-cites="mohamad">(<a href="#ref-mohamad" role="doc-biblioref"><strong>mohamad?</strong></a>)</span></p>
</section>
<section id="grundlagen-biquad-filter" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="grundlagen-biquad-filter"><span class="header-section-number">2.3</span> Grundlagen Biquad-Filter</h2>
<!--

Ein Biquad-Filter (zweites Ordnungsglied) ist eine universelle, aktive Filterstruktur, die in nahezu allen Standard-Filterkonfigurationen (Tiefpass, Hochpass, Bandpass, Bandsperre) eingesetzt werden kann. Die Bezeichnung „Biquad“ leitet sich dabei vom englischen „biquadratic“ ab und verweist auf die quadratische (zweite) Ordnung der Nennerpolynomfunktion der Übertragungsfunktion.

Im Kern besteht ein Biquad-Filter aus zwei gepaarten Operationsverstärker­stufen, die durch Rückkopplungs- und Durchkopplungszweige miteinander verbunden sind. Diese Zweistufigkeit erlaubt die Realisierung eines Übertragungs­verhaltens zweiter Ordnung bereits mit minimalem Bauteilaufwand. Durch gezielte Dimensionierung der Widerstände und Kondensatoren in den Rückkopplungspfaden lassen sich Frequenzgangleitungen und Dämpfungs­verhalten exakt einstellen, sodass beliebige Filtercharakteristiken – etwa Butterworth (maximale Flachheit im Durchlassbereich), Tschebyscheff (Welligkeit im Durchlass bei steiler Flanke) oder Bessel (maximale Linearität der Gruppenlaufzeit) – erzeugt werden können.

Mathematisch wird die Übertragungsfunktion eines Biquad-Filters allgemein dargestellt als

$$
H(s) \;=\; \frac{b_0 + b_1 s + b_2 s^2}{a_0 + a_1 s + a_2 s^2}\,,
$$

wobei die Koeffizienten $b_i$ und $a_i$ aus den gewählten Widerstands- und Kondensatorwerten resultieren. Die zulässigen Filtertypen unterscheiden sich lediglich in der Wahl dieser Koeffizienten, während die Grundstruktur des Schaltbilds unverändert bleibt. So entsteht beispielsweise durch $b_0=b_2=0$, $b_1\neq0$ ein reiner Bandpass, während bei $b_1=0$, $b_0=b_2\neq0$ eine Bandsperre resultiert.

Ein wesentlicher Vorteil des Biquad-Aufbaus liegt in seiner Modularität: Durch Parallelschaltung mehrerer identischer Biquad-Stufen können höher­ordnungs Filter realisiert werden, ohne die Komplexität je Stufe zu erhöhen. Zudem lässt sich jede Stufe einzeln kalibrieren, um Fertigungstoleranzen auszugleichen und präzise Filter­güte (Q-Faktor) sowie Grenzfrequenz einzustellen. Diese Flexibilität macht den Biquad zum De-facto-Standard für integrierte Filterlösungen in der Audiotechnik, Messtechnik und industriellen Signal­verarbeitung.
[@FILTERS07]
-->
<p><span class="citation" data-cites="adi">(<a href="#ref-adi" role="doc-biblioref"><strong>adi?</strong></a>)</span></p>
</section>
<section id="gütefaktor-q-und-einfluss" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="gütefaktor-q-und-einfluss"><span class="header-section-number">2.4</span> Gütefaktor Q und Einfluss</h2>
<p>Quality Faktor hier kurz beschrieben</p>
</section>
</section>
<section id="schaltungsentwurf-des-biquad-filters" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Schaltungsentwurf des Biquad-Filters</h1>
<p><span class="citation" data-cites="Mohamad">(<a href="#ref-Mohamad" role="doc-biblioref"><strong>Mohamad?</strong></a>)</span></p>
<section id="universeller-aktiver-filter-2.-ordnung" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="universeller-aktiver-filter-2.-ordnung"><span class="header-section-number">3.1</span> Universeller aktiver Filter 2. Ordnung</h2>
<p>Hier dann Bi-quad filter schaltung aus ASLK Pro Experiment-4</p>
<section id="auswahl-und-berechnung-der-bauteile" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="auswahl-und-berechnung-der-bauteile">Auswahl und Berechnung der Bauteile</h3>
</section>
</section>
<section id="simulation-und-aufbau" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="simulation-und-aufbau"><span class="header-section-number">3.2</span> Simulation und Aufbau</h2>
<p>Hier müssen wir die filter speizifikation aus Experiment-4 schreiben.</p>
<section id="simulation-der-schaltung-kicad" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="simulation-der-schaltung-kicad">Simulation der Schaltung (KiCad)</h3>
<p>Hier zeigen wir die Simulation von der Schaltung und die Plots</p>
<p><span class="citation" data-cites="Adrian">(<a href="#ref-Adrian" role="doc-biblioref"><strong>Adrian?</strong></a>)</span></p>
</section>
<section id="aufbau-auf-dem-aslk-pro-board" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="aufbau-auf-dem-aslk-pro-board">Aufbau auf dem ASLK PRO Board</h3>
<p>Aufbau von der Schaltung auf ASLK Board mit jumper Wires</p>
<ol start="4" type="1">
<li><p>ASLK Lab Manual - Labor 4 gelesen, Spezifikation gelesen, Schaltung gesehen, Ziel des Projekts festgelegt</p></li>
<li><p>Spezifikation für die Schaltung: Durch Kreisfrequenzen R , C werte und Kreisfrequenz f berechnet, Güte Faktor miteinbezogen</p></li>
<li><p>Simulation auf KiCAD durchgeführt, Plots mit dem Manual verglichen</p></li>
<li><p>Schaltungsaufbau auf dem ASLK Board mit Kabeln</p></li>
<li><p>RedPitaya integriert für Messung und Auswertung der Schaltung (Bode-Plot und Messwerte)</p></li>
<li><p>Nach ASLK Manual Aufgaben gemacht und die Messwerte aufgenommen, leichte änderung an der Schaltung je nach Aufgabenstellung</p></li>
</ol>
<p><span class="citation" data-cites="Adi">(<a href="#ref-Adi" role="doc-biblioref"><strong>Adi?</strong></a>)</span></p>
</section>
</section>
<section id="butterworth-3.-ordnung-entwurf-und-erweiterung" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="butterworth-3.-ordnung-entwurf-und-erweiterung"><span class="header-section-number">3.3</span> Butterworth 3. Ordnung: Entwurf und Erweiterung</h2>
<p>hier beschreiben wir 3. Ordnung, die Übertragungsfunktion usw…</p>
<ol start="20" type="1">
<li>Schaltung mit einer weiteren Ordnung Erweitert: Butterworth Filter in der Schaltung eingebaut, Übertragungsfunktionen hergeleitet</li>
<li>Die erweiterte Schaltung simuliert: Erwartete Ergebnisse bekommen</li>
<li>Schaltung auf dem Steckbrett entsprechend der Simulation erweitert und gemessen: Auch gute Ergebnisse bekommen</li>
</ol>
<section id="herleitung-der-übertragungsfunktion" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="herleitung-der-übertragungsfunktion">Herleitung der Übertragungsfunktion</h3>
<p>Hier die Herleitung der Übertragungsfunktionen schreiben</p>
</section>
</section>
</section>
<section id="charakterisierung" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Charakterisierung</h1>
<p><span class="citation" data-cites="Adrian">(<a href="#ref-Adrian" role="doc-biblioref"><strong>Adrian?</strong></a>)</span></p>
<section id="problem-name" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="problem-name">Problem Name</h3>
<ol start="9" type="1">
<li>Schaltungsverhalten unerwartet, dann die Schaltung überprüft (gemerkt: Kabelnstecken ist eine Fehlerquelle)</li>
<li>Messung erneut düchgeführt, mussten nochmal schaltüng überprüfen</li>
<li>Das Problem war ASLK Board und nicht der Aufbau, rausgefunden indem: die Schaltung vom Laboring überprüfen lassen</li>
<li>Die Schaltung neu aufbaut, mit dem neuen Board und ohne Kabeln zu verlängern (keine 2 Kabeln zusammengesteckt)</li>
<li>Nochmal gemessen und erwartete Ergebnisse bekommen. (Bestätigt - Board war das Problem)</li>
</ol>
</section>
<section id="problem-name-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="problem-name-1">Problem Name</h3>
<ol start="16" type="1">
<li>Bode Plot analysiert um Verhalten von Filtern zu überprüfen, -20dB Dämpfung in der Amplitude rausgefunden</li>
<li>Fehler Suche: Wiederstände überprüft und die auf dem Board gemessen mit Multimeter, festgestellt: R6 war 10k Ohm anstatt 1k Ohm</li>
<li>RedPitaya auf HV gestellt, um Peak Messwerte richtig zu bekommen</li>
<li>Messungen erneut aufgenommen, Fehler beseitigt</li>
</ol>
</section>
</section>
<section id="messung-und-analyse" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Messung und Analyse</h1>
<p><span class="citation" data-cites="Mohamad">(<a href="#ref-Mohamad" role="doc-biblioref"><strong>Mohamad?</strong></a>)</span></p>
<p>Plots and fancy curves</p>
<section id="messungsschritte" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="messungsschritte">Messungsschritte</h3>
</section>
<section id="vergleich-simulation-vs.-diskret" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="vergleich-simulation-vs.-diskret"><span class="header-section-number">5.1</span> Vergleich Simulation vs.&nbsp;Diskret</h2>
<p>hier machen wir ein vergleich zwischen Simulation und die auf dem Board aufgebaute Schaltung mit Plots</p>
</section>
<section id="interpretation-der-messergebnisse" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="interpretation-der-messergebnisse"><span class="header-section-number">5.2</span> Interpretation der Messergebnisse</h2>
<p>Hier erklären wir die Unterschiede zwischen Simulation und echte Messwerte</p>
</section>
</section>
<section id="umsetzung-als-leiterplatte" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Umsetzung als Leiterplatte</h1>
<p><span class="citation" data-cites="Adi">(<a href="#ref-Adi" role="doc-biblioref"><strong>Adi?</strong></a>)</span></p>
<p>Those cables were boring, we need a PCB</p>
<section id="vorgehensweise-im-layoutprozess" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="vorgehensweise-im-layoutprozess"><span class="header-section-number">6.1</span> Vorgehensweise im Layoutprozess</h2>
<p>hier beschreiben wir das Vorgehen</p>
</section>
<section id="messungen-an-der-pcb-schaltung" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="messungen-an-der-pcb-schaltung"><span class="header-section-number">6.2</span> Messungen an der PCB-Schaltung</h2>
<p>hier zeigen wir Plots von der PCB-Schaltung</p>
</section>
<section id="vergleich-der-ergebnisse" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="vergleich-der-ergebnisse"><span class="header-section-number">6.3</span> Vergleich der Ergebnisse:</h2>
<p>hier vergleichen wir zwischen der Schaltung auf dem ASLK-Board und der auf dem PCB</p>
</section>
<section id="vergleich-diskret-vs.-pcb" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="vergleich-diskret-vs.-pcb">Vergleich: Diskret vs.&nbsp;PCB</h2>
</section>
<section id="vergleich-ideal-vs.-pcb" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="vergleich-ideal-vs.-pcb">Vergleich: Ideal vs.&nbsp;PCB</h2>
<ol start="23" type="1">
<li>Schaltung war jetzt bereit für ein Leiterplattendesign</li>
<li>3 Variante von PCB design mit Verbesserungen in jeder Transition</li>
<li>PCB Design erwitert für 2 Schaltungmöglichkeiten</li>
<li>Design Überprüfen lassen vom LaborING und dann die Platine bestellt</li>
<li>Platine gefertigt, gemessen, Messwerte für den Vergleich mit Redpitaya aufgenommen</li>
</ol>
</section>
</section>
<section id="fazit-und-ausblick" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Fazit und Ausblick</h1>
<p>Hier schreiben wir Fazit von dem Experiment</p>
<p>Was ist rausgekommen? Was lief gut, wo gab’s Schwierigkeiten? Was könnte man als Nächstes machen?</p>
<p><span class="citation" data-cites="Adrian">(<a href="#ref-Adrian" role="doc-biblioref"><strong>Adrian?</strong></a>)</span></p>
</section>
<section id="literaturverzeichnis" class="level1 unnumbered">
<h1 class="unnumbered">Literaturverzeichnis</h1>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-FILTERS07" class="csl-entry" role="listitem">
Smith, Julius O. 2007. <em>Introduction to Digital Filters with Audio Applications</em>. : W3K Publishing.
</div>
</div>
<p><span class="citation" data-cites="FILTERS07">Smith (<a href="#ref-FILTERS07" role="doc-biblioref">2007</a>)</span></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Kopiert");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Kopiert");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>